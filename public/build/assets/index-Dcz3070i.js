import{a3 as lt,r as V,c as u,a7 as Q,e as ol,ai as Se,aJ as tt,aY as H,aR as W,bU as nt,bY as Z,w as U,aa as Ce,_ as Oe,k as de,ad as se,af as $e,n as I,o as y,q as k,B as E,K as N,H as B,y as v,u as re,aP as sl,t as Te,aQ as De,a as ue,a8 as at,as as A,ac as D,s as ye,a6 as Me,ab as ot,aB as st,aF as Ze,aD as it,bC as rt,ax as P,b6 as ut,aC as dt,ak as ge,c5 as Xe,b2 as ct,g as pt,c3 as ft,ar as oe,c6 as vt,bI as mt,aw as bt,l as ht,aA as gt,bA as yt,b_ as _e,f as ne,bB as St,bM as Ct,i as xe,ao as Ot,aK as wt,c7 as It,U as j,bZ as Vt,C as q,v as L,p as K,N as el,ah as ll,J as tl,aG as ae,c8 as Et,x as ke,c9 as Tt,E as kt,bH as Rt,bK as $t,a9 as il,ca as Dt,a4 as Mt,z as Lt,a2 as rl}from"./id-CJBCPnZN.js";import{t as nl,E as Bt}from"./index-Cq1B7wMM.js";import{i as ie,C as Nt}from"./index-BfayRB1v.js";import{a as Wt,u as Pt}from"./index-Cipdpfhh.js";import{U as Y,C as ul}from"./event-BB_Ol6Sd.js";import{s as Ft}from"./scroll-jMVa8YAc.js";import{b as zt}from"./_baseIteratee-DGFQ_hrb.js";import{f as Kt}from"./vnode-Cg01VY91.js";function At(e,o,a,m){for(var p=e.length,b=a+(m?1:-1);m?b--:++b<p;)if(o(e[b],b,e))return b;return-1}function Ht(e,o,a){var m=e==null?0:e.length;if(!m)return-1;var p=m-1;return At(e,zt(o),p,!0)}const Ut=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");function Gt(){const e=lt(),o=V(0),a=11,m=u(()=>({minWidth:`${Math.max(o.value,a)}px`}));return Q(e,()=>{var b,t;o.value=(t=(b=e.value)==null?void 0:b.getBoundingClientRect().width)!=null?t:0}),{calculatorRef:e,calculatorWidth:o,inputStyle:m}}const dl=Symbol("ElSelectGroup"),we=Symbol("ElSelect"),Re="ElOption",jt=ol({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});function qt(e,o){const a=Se(we);a||tt(Re,"usage: <el-select><el-option /></el-select/>");const m=Se(dl,{disabled:!1}),p=u(()=>f(H(a.props.modelValue),e.value)),b=u(()=>{var s;if(a.props.multiple){const c=H((s=a.props.modelValue)!=null?s:[]);return!p.value&&c.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),t=u(()=>{var s;return(s=e.label)!=null?s:W(e.value)?"":e.value}),S=u(()=>e.value||e.label||""),g=u(()=>e.disabled||o.groupDisabled||b.value),h=Ce(),f=(s=[],c)=>{if(W(e.value)){const w=a.props.valueKey;return s&&s.some(T=>nt(Z(T,w))===Z(c,w))}else return s&&s.includes(c)},d=()=>{!e.disabled&&!m.disabled&&(a.states.hoveringIndex=a.optionsArray.indexOf(h.proxy))},i=s=>{const c=new RegExp(Ut(s),"i");o.visible=c.test(String(t.value))||e.created};return U(()=>t.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),U(()=>e.value,(s,c)=>{const{remote:w,valueKey:T}=a.props;if((w?s!==c:!ie(s,c))&&(a.onOptionDestroy(c,h.proxy),a.onOptionCreate(h.proxy)),!e.created&&!w){if(T&&W(s)&&W(c)&&s[T]===c[T])return;a.setSelected()}}),U(()=>m.disabled,()=>{o.groupDisabled=m.disabled},{immediate:!0}),{select:a,currentLabel:t,currentValue:S,itemSelected:p,isDisabled:g,hoverItem:d,updateOption:i}}const Qt=de({name:Re,componentName:Re,props:jt,setup(e){const o=re("select"),a=sl(),m=u(()=>[o.be("dropdown","item"),o.is("disabled",Te(S)),o.is("selected",Te(t)),o.is("hovering",Te(i))]),p=ue({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:b,itemSelected:t,isDisabled:S,select:g,hoverItem:h,updateOption:f}=qt(e,p),{visible:d,hover:i}=De(p),s=Ce().proxy;g.onOptionCreate(s),at(()=>{const w=s.value,{selected:T}=g.states,R=T.some(X=>X.value===s.value);A(()=>{g.states.cachedOptions.get(w)===s&&!R&&g.states.cachedOptions.delete(w)}),g.onOptionDestroy(w,s)});function c(){S.value||g.handleOptionSelect(s)}return{ns:o,id:a,containerKls:m,currentLabel:b,itemSelected:t,isDisabled:S,select:g,visible:d,hover:i,states:p,hoverItem:h,updateOption:f,selectOptionClick:c}}});function Jt(e,o){return se((y(),I("li",{id:e.id,class:v(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:B(e.selectOptionClick,["stop"])},[k(e.$slots,"default",{},()=>[E("span",null,N(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[$e,e.visible]])}var Le=Oe(Qt,[["render",Jt],["__file","option.vue"]]);const Yt=de({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Se(we),o=re("select"),a=u(()=>e.props.popperClass),m=u(()=>e.props.multiple),p=u(()=>e.props.fitInputWidth),b=V("");function t(){var S;b.value=`${(S=e.selectRef)==null?void 0:S.offsetWidth}px`}return Me(()=>{t(),Q(e.selectRef,t)}),{ns:o,minWidth:b,popperClass:a,isMultiple:m,isFitInputWidth:p}}});function Zt(e,o,a,m,p,b){return y(),I("div",{class:v([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:ye({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(y(),I("div",{key:0,class:v(e.ns.be("dropdown","header"))},[k(e.$slots,"header")],2)):D("v-if",!0),k(e.$slots,"default"),e.$slots.footer?(y(),I("div",{key:1,class:v(e.ns.be("dropdown","footer"))},[k(e.$slots,"footer")],2)):D("v-if",!0)],6)}var Xt=Oe(Yt,[["render",Zt],["__file","select-dropdown.vue"]]);const _t=(e,o)=>{const{t:a}=ot(),m=sl(),p=re("select"),b=re("input"),t=ue({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),S=V(),g=V(),h=V(),f=V(),d=V(),i=V(),s=V(),c=V(),w=V(),T=V(),R=V(),{isComposing:X,handleCompositionStart:G,handleCompositionUpdate:pl,handleCompositionEnd:fl}=Wt({afterComposition:l=>Ue(l)}),{wrapperRef:Be,isFocused:Ne,handleBlur:vl}=Pt(d,{beforeFocus(){return x.value},afterFocus(){e.automaticDropdown&&!C.value&&(C.value=!0,t.menuVisibleOnFocus=!0)},beforeBlur(l){var n,r;return((n=h.value)==null?void 0:n.isFocusInsideContent(l))||((r=f.value)==null?void 0:r.isFocusInsideContent(l))},afterBlur(){var l;C.value=!1,t.menuVisibleOnFocus=!1,e.validateEvent&&((l=F==null?void 0:F.validate)==null||l.call(F,"blur").catch(n=>Ze()))}}),C=V(!1),_=V(),{form:ce,formItem:F}=st(),{inputId:ml}=it(e,{formItemContext:F}),{valueOnClear:bl,isEmptyValue:hl}=rt(e),x=u(()=>e.disabled||(ce==null?void 0:ce.disabled)),Ie=u(()=>P(e.modelValue)?e.modelValue.length>0:!hl(e.modelValue)),gl=u(()=>{var l;return(l=ce==null?void 0:ce.statusIcon)!=null?l:!1}),yl=u(()=>e.clearable&&!x.value&&t.inputHovering&&Ie.value),We=u(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Sl=u(()=>p.is("reverse",!!(We.value&&C.value))),Ve=u(()=>(F==null?void 0:F.validateState)||""),Cl=u(()=>Ve.value&&ut[Ve.value]),Ol=u(()=>e.remote?300:0),wl=u(()=>e.remote&&!t.inputValue&&t.options.size===0),Il=u(()=>e.loading?e.loadingText||a("el.select.loading"):e.filterable&&t.inputValue&&t.options.size>0&&ee.value===0?e.noMatchText||a("el.select.noMatch"):t.options.size===0?e.noDataText||a("el.select.noData"):null),ee=u(()=>$.value.filter(l=>l.visible).length),$=u(()=>{const l=Array.from(t.options.values()),n=[];return t.optionValues.forEach(r=>{const O=l.findIndex(M=>M.value===r);O>-1&&n.push(l[O])}),n.length>=l.length?n:l}),Vl=u(()=>Array.from(t.cachedOptions.values())),El=u(()=>{const l=$.value.filter(n=>!n.created).some(n=>n.currentLabel===t.inputValue);return e.filterable&&e.allowCreate&&t.inputValue!==""&&!l}),Pe=()=>{e.filterable&&oe(e.filterMethod)||e.filterable&&e.remote&&oe(e.remoteMethod)||$.value.forEach(l=>{var n;(n=l.updateOption)==null||n.call(l,t.inputValue)})},Fe=dt(),Tl=u(()=>["small"].includes(Fe.value)?"small":"default"),kl=u({get(){return C.value&&!wl.value},set(l){C.value=l}}),Rl=u(()=>{if(e.multiple&&!ge(e.modelValue))return H(e.modelValue).length===0&&!t.inputValue;const l=P(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||ge(l)?!t.inputValue:!0}),$l=u(()=>{var l;const n=(l=e.placeholder)!=null?l:a("el.select.placeholder");return e.multiple||!Ie.value?n:t.selectedLabel}),Dl=u(()=>Xe?null:"mouseenter");U(()=>e.modelValue,(l,n)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(t.inputValue="",pe("")),fe(),!ie(l,n)&&e.validateEvent&&(F==null||F.validate("change").catch(r=>Ze()))},{flush:"post",deep:!0}),U(()=>C.value,l=>{l?pe(t.inputValue):(t.inputValue="",t.previousQuery=null,t.isBeforeHide=!0),o("visible-change",l)}),U(()=>t.options.entries(),()=>{ct&&(fe(),e.defaultFirstOption&&(e.filterable||e.remote)&&ee.value&&ze())},{flush:"post"}),U([()=>t.hoveringIndex,$],([l])=>{pt(l)&&l>-1?_.value=$.value[l]||{}:_.value={},$.value.forEach(n=>{n.hover=_.value===n})}),ft(()=>{t.isBeforeHide||Pe()});const pe=l=>{t.previousQuery===l||X.value||(t.previousQuery=l,e.filterable&&oe(e.filterMethod)?e.filterMethod(l):e.filterable&&e.remote&&oe(e.remoteMethod)&&e.remoteMethod(l),e.defaultFirstOption&&(e.filterable||e.remote)&&ee.value?A(ze):A(Ml))},ze=()=>{const l=$.value.filter(M=>M.visible&&!M.disabled&&!M.states.groupDisabled),n=l.find(M=>M.created),r=l[0],O=$.value.map(M=>M.value);t.hoveringIndex=Qe(O,n||r)},fe=()=>{if(e.multiple)t.selectedLabel="";else{const n=P(e.modelValue)?e.modelValue[0]:e.modelValue,r=Ke(n);t.selectedLabel=r.currentLabel,t.selected=[r];return}const l=[];ge(e.modelValue)||H(e.modelValue).forEach(n=>{l.push(Ke(n))}),t.selected=l},Ke=l=>{let n;const r=vt(l);for(let J=t.cachedOptions.size-1;J>=0;J--){const z=Vl.value[J];if(r?Z(z.value,e.valueKey)===Z(l,e.valueKey):z.value===l){n={value:l,currentLabel:z.currentLabel,get isDisabled(){return z.isDisabled}};break}}if(n)return n;const O=r?l.label:l??"";return{value:l,currentLabel:O}},Ml=()=>{t.hoveringIndex=$.value.findIndex(l=>t.selected.some(n=>be(n)===be(l)))},Ll=()=>{t.selectionWidth=Number.parseFloat(window.getComputedStyle(g.value).width)},Bl=()=>{t.collapseItemWidth=T.value.getBoundingClientRect().width},Ee=()=>{var l,n;(n=(l=h.value)==null?void 0:l.updatePopper)==null||n.call(l)},Ae=()=>{var l,n;(n=(l=f.value)==null?void 0:l.updatePopper)==null||n.call(l)},He=()=>{t.inputValue.length>0&&!C.value&&(C.value=!0),pe(t.inputValue)},Ue=l=>{if(t.inputValue=l.target.value,e.remote)Ge();else return He()},Ge=mt(()=>{He()},Ol.value),le=l=>{ie(e.modelValue,l)||o(ul,l)},Nl=l=>Ht(l,n=>{const r=t.cachedOptions.get(n);return r&&!r.disabled&&!r.states.groupDisabled}),Wl=l=>{if(e.multiple&&l.code!==bt.delete&&l.target.value.length<=0){const n=H(e.modelValue).slice(),r=Nl(n);if(r<0)return;const O=n[r];n.splice(r,1),o(Y,n),le(n),o("remove-tag",O)}},Pl=(l,n)=>{const r=t.selected.indexOf(n);if(r>-1&&!x.value){const O=H(e.modelValue).slice();O.splice(r,1),o(Y,O),le(O),o("remove-tag",n.value)}l.stopPropagation(),me()},je=l=>{l.stopPropagation();const n=e.multiple?[]:bl.value;if(e.multiple)for(const r of t.selected)r.isDisabled&&n.push(r.value);o(Y,n),le(n),t.hoveringIndex=-1,C.value=!1,o("clear"),me()},qe=l=>{var n;if(e.multiple){const r=H((n=e.modelValue)!=null?n:[]).slice(),O=Qe(r,l);O>-1?r.splice(O,1):(e.multipleLimit<=0||r.length<e.multipleLimit)&&r.push(l.value),o(Y,r),le(r),l.created&&pe(""),e.filterable&&!e.reserveKeyword&&(t.inputValue="")}else o(Y,l.value),le(l.value),C.value=!1;me(),!C.value&&A(()=>{ve(l)})},Qe=(l,n)=>ge(n)?-1:W(n.value)?l.findIndex(r=>ie(Z(r,e.valueKey),be(n))):l.indexOf(n.value),ve=l=>{var n,r,O,M,J;const z=P(l)?l[0]:l;let he=null;if(z!=null&&z.value){const te=$.value.filter(et=>et.value===z.value);te.length>0&&(he=te[0].$el)}if(h.value&&he){const te=(M=(O=(r=(n=h.value)==null?void 0:n.popperRef)==null?void 0:r.contentRef)==null?void 0:O.querySelector)==null?void 0:M.call(O,`.${p.be("dropdown","wrap")}`);te&&Ft(te,he)}(J=R.value)==null||J.handleScroll()},Fl=l=>{t.options.set(l.value,l),t.cachedOptions.set(l.value,l)},zl=(l,n)=>{t.options.get(l)===n&&t.options.delete(l)},Kl=u(()=>{var l,n;return(n=(l=h.value)==null?void 0:l.popperRef)==null?void 0:n.contentRef}),Al=()=>{t.isBeforeHide=!1,A(()=>{var l;(l=R.value)==null||l.update(),ve(t.selected)})},me=()=>{var l;(l=d.value)==null||l.focus()},Hl=()=>{var l;if(C.value){C.value=!1,A(()=>{var n;return(n=d.value)==null?void 0:n.blur()});return}(l=d.value)==null||l.blur()},Ul=l=>{je(l)},Gl=l=>{if(C.value=!1,Ne.value){const n=new FocusEvent("focus",l);A(()=>vl(n))}},jl=()=>{t.inputValue.length>0?t.inputValue="":C.value=!1},Je=()=>{x.value||(Xe&&(t.inputHovering=!0),t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:C.value=!C.value)},ql=()=>{if(!C.value)Je();else{const l=$.value[t.hoveringIndex];l&&!l.isDisabled&&qe(l)}},be=l=>W(l.value)?Z(l.value,e.valueKey):l.value,Ql=u(()=>$.value.filter(l=>l.visible).every(l=>l.isDisabled)),Jl=u(()=>e.multiple?e.collapseTags?t.selected.slice(0,e.maxCollapseTags):t.selected:[]),Yl=u(()=>e.multiple?e.collapseTags?t.selected.slice(e.maxCollapseTags):[]:[]),Ye=l=>{if(!C.value){C.value=!0;return}if(!(t.options.size===0||ee.value===0||X.value)&&!Ql.value){l==="next"?(t.hoveringIndex++,t.hoveringIndex===t.options.size&&(t.hoveringIndex=0)):l==="prev"&&(t.hoveringIndex--,t.hoveringIndex<0&&(t.hoveringIndex=t.options.size-1));const n=$.value[t.hoveringIndex];(n.isDisabled||!n.visible)&&Ye(l),A(()=>ve(_.value))}},Zl=()=>{if(!g.value)return 0;const l=window.getComputedStyle(g.value);return Number.parseFloat(l.gap||"6px")},Xl=u(()=>{const l=Zl();return{maxWidth:`${T.value&&e.maxCollapseTags===1?t.selectionWidth-t.collapseItemWidth-l:t.selectionWidth}px`}}),_l=u(()=>({maxWidth:`${t.selectionWidth}px`})),xl=l=>{o("popup-scroll",l)};return Q(g,Ll),Q(c,Ee),Q(Be,Ee),Q(w,Ae),Q(T,Bl),Me(()=>{fe()}),{inputId:ml,contentId:m,nsSelect:p,nsInput:b,states:t,isFocused:Ne,expanded:C,optionsArray:$,hoverOption:_,selectSize:Fe,filteredOptionsCount:ee,updateTooltip:Ee,updateTagTooltip:Ae,debouncedOnInputChange:Ge,onInput:Ue,deletePrevTag:Wl,deleteTag:Pl,deleteSelected:je,handleOptionSelect:qe,scrollToOption:ve,hasModelValue:Ie,shouldShowPlaceholder:Rl,currentPlaceholder:$l,mouseEnterEventName:Dl,needStatusIcon:gl,showClose:yl,iconComponent:We,iconReverse:Sl,validateState:Ve,validateIcon:Cl,showNewOption:El,updateOptions:Pe,collapseTagSize:Tl,setSelected:fe,selectDisabled:x,emptyText:Il,handleCompositionStart:G,handleCompositionUpdate:pl,handleCompositionEnd:fl,onOptionCreate:Fl,onOptionDestroy:zl,handleMenuEnter:Al,focus:me,blur:Hl,handleClearClick:Ul,handleClickOutside:Gl,handleEsc:jl,toggleMenu:Je,selectOption:ql,getValueKey:be,navigateOptions:Ye,dropdownMenuVisible:kl,showTagList:Jl,collapseTagList:Yl,popupScroll:xl,tagStyle:Xl,collapseTagStyle:_l,popperRef:Kl,inputRef:d,tooltipRef:h,tagTooltipRef:f,prefixRef:i,suffixRef:s,selectRef:S,wrapperRef:Be,selectionRef:g,scrollbarRef:R,menuRef:c,tagMenuRef:w,collapseItemRef:T}};var xt=de({name:"ElOptions",setup(e,{slots:o}){const a=Se(we);let m=[];return()=>{var p,b;const t=(p=o.default)==null?void 0:p.call(o),S=[];function g(h){P(h)&&h.forEach(f=>{var d,i,s,c;const w=(d=(f==null?void 0:f.type)||{})==null?void 0:d.name;w==="ElOptionGroup"?g(!ht(f.children)&&!P(f.children)&&oe((i=f.children)==null?void 0:i.default)?(s=f.children)==null?void 0:s.default():f.children):w==="ElOption"?S.push((c=f.props)==null?void 0:c.value):P(f.children)&&g(f.children)})}return t.length&&g((b=t[0])==null?void 0:b.children),ie(S,m)||(m=S,a&&(a.states.optionValues=S)),t}}});const en=ol({name:String,id:String,modelValue:{type:ne([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:wt,effect:{type:ne(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ne(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:_e.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:xe,default:Ot},fitInputWidth:Boolean,suffixIcon:{type:xe,default:Ct},tagType:{...nl.type,default:"info"},tagEffect:{...nl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:ne(String),values:St,default:"bottom-start"},fallbackPlacements:{type:ne(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:_e.appendTo,...yt,...gt(["ariaLabel"])});It.scroll;const al="ElSelect",ln=de({name:al,componentName:al,components:{ElSelectMenu:Xt,ElOption:Le,ElOptions:xt,ElTag:Bt,ElScrollbar:$t,ElTooltip:Rt,ElIcon:kt},directives:{ClickOutside:Nt},props:en,emits:[Y,ul,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:o,slots:a}){const m=Ce();m.appContext.config.warnHandler=(...i)=>{!i[0]||i[0].includes('Slot "default" invoked outside of the render function')||console.warn(...i)};const p=u(()=>{const{modelValue:i,multiple:s}=e,c=s?[]:void 0;return P(i)?s?i:c:s?c:i}),b=ue({...De(e),modelValue:p}),t=_t(b,o),{calculatorRef:S,inputStyle:g}=Gt(),h=i=>i.reduce((s,c)=>(s.push(c),c.children&&c.children.length>0&&s.push(...h(c.children)),s),[]),f=i=>{Kt(i||[]).forEach(c=>{var w;if(W(c)&&(c.type.name==="ElOption"||c.type.name==="ElTree")){const T=c.type.name;if(T==="ElTree"){const R=((w=c.props)==null?void 0:w.data)||[];h(R).forEach(G=>{G.currentLabel=G.label||(W(G.value)?"":G.value),t.onOptionCreate(G)})}else if(T==="ElOption"){const R={...c.props};R.currentLabel=R.label||(W(R.value)?"":R.value),t.onOptionCreate(R)}}})};U(()=>{var i;return(i=a.default)==null?void 0:i.call(a)},i=>{e.persistent||f(i)},{immediate:!0}),il(we,ue({props:b,states:t.states,selectRef:t.selectRef,optionsArray:t.optionsArray,setSelected:t.setSelected,handleOptionSelect:t.handleOptionSelect,onOptionCreate:t.onOptionCreate,onOptionDestroy:t.onOptionDestroy}));const d=u(()=>e.multiple?t.states.selected.map(i=>i.currentLabel):t.states.selectedLabel);return{...t,modelValue:p,selectedLabel:d,calculatorRef:S,inputStyle:g}}});function tn(e,o){const a=j("el-tag"),m=j("el-tooltip"),p=j("el-icon"),b=j("el-option"),t=j("el-options"),S=j("el-scrollbar"),g=j("el-select-menu"),h=Vt("click-outside");return se((y(),I("div",{ref:"selectRef",class:v([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Tt(e.mouseEnterEventName)]:f=>e.states.inputHovering=!0,onMouseleave:f=>e.states.inputHovering=!1},[q(m,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:f=>e.states.isBeforeHide=!1},{default:L(()=>{var f;return[E("div",{ref:"wrapperRef",class:v([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:B(e.toggleMenu,["prevent"])},[e.$slots.prefix?(y(),I("div",{key:0,ref:"prefixRef",class:v(e.nsSelect.e("prefix"))},[k(e.$slots,"prefix")],2)):D("v-if",!0),E("div",{ref:"selectionRef",class:v([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?k(e.$slots,"tag",{key:0},()=>[(y(!0),I(el,null,ll(e.showTagList,d=>(y(),I("div",{key:e.getValueKey(d),class:v(e.nsSelect.e("selected-item"))},[q(a,{closable:!e.selectDisabled&&!d.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:ye(e.tagStyle),onClose:i=>e.deleteTag(i,d)},{default:L(()=>[E("span",{class:v(e.nsSelect.e("tags-text"))},[k(e.$slots,"label",{label:d.currentLabel,value:d.value},()=>[tl(N(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(y(),K(m,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:L(()=>[E("div",{ref:"collapseItemRef",class:v(e.nsSelect.e("selected-item"))},[q(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:ye(e.collapseTagStyle)},{default:L(()=>[E("span",{class:v(e.nsSelect.e("tags-text"))}," + "+N(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:L(()=>[E("div",{ref:"tagMenuRef",class:v(e.nsSelect.e("selection"))},[(y(!0),I(el,null,ll(e.collapseTagList,d=>(y(),I("div",{key:e.getValueKey(d),class:v(e.nsSelect.e("selected-item"))},[q(a,{class:"in-tooltip",closable:!e.selectDisabled&&!d.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:i=>e.deleteTag(i,d)},{default:L(()=>[E("span",{class:v(e.nsSelect.e("tags-text"))},[k(e.$slots,"label",{label:d.currentLabel,value:d.value},()=>[tl(N(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):D("v-if",!0)]):D("v-if",!0),E("div",{class:v([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[se(E("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":d=>e.states.inputValue=d,type:"text",name:e.name,class:v([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:ye(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((f=e.hoverOption)==null?void 0:f.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[ae(B(d=>e.navigateOptions("next"),["stop","prevent"]),["down"]),ae(B(d=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),ae(B(e.handleEsc,["stop","prevent"]),["esc"]),ae(B(e.selectOption,["stop","prevent"]),["enter"]),ae(B(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:B(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Et,e.states.inputValue]]),e.filterable?(y(),I("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:v(e.nsSelect.e("input-calculator")),textContent:N(e.states.inputValue)},null,10,["textContent"])):D("v-if",!0)],2),e.shouldShowPlaceholder?(y(),I("div",{key:1,class:v([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?k(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[E("span",null,N(e.currentPlaceholder),1)]):(y(),I("span",{key:1},N(e.currentPlaceholder),1))],2)):D("v-if",!0)],2),E("div",{ref:"suffixRef",class:v(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(y(),K(p,{key:0,class:v([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:L(()=>[(y(),K(ke(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),e.showClose&&e.clearIcon?(y(),K(p,{key:1,class:v([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:L(()=>[(y(),K(ke(e.clearIcon)))]),_:1},8,["class","onClick"])):D("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(y(),K(p,{key:2,class:v([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:L(()=>[(y(),K(ke(e.validateIcon)))]),_:1},8,["class"])):D("v-if",!0)],2)],10,["onClick"])]}),content:L(()=>[q(g,{ref:"menuRef"},{default:L(()=>[e.$slots.header?(y(),I("div",{key:0,class:v(e.nsSelect.be("dropdown","header")),onClick:B(()=>{},["stop"])},[k(e.$slots,"header")],10,["onClick"])):D("v-if",!0),se(q(S,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:v([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:L(()=>[e.showNewOption?(y(),K(b,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):D("v-if",!0),q(t,null,{default:L(()=>[k(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[$e,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(y(),I("div",{key:1,class:v(e.nsSelect.be("dropdown","loading"))},[k(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(y(),I("div",{key:2,class:v(e.nsSelect.be("dropdown","empty"))},[k(e.$slots,"empty",{},()=>[E("span",null,N(e.emptyText),1)])],2)):D("v-if",!0),e.$slots.footer?(y(),I("div",{key:3,class:v(e.nsSelect.be("dropdown","footer")),onClick:B(()=>{},["stop"])},[k(e.$slots,"footer")],10,["onClick"])):D("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,e.handleClickOutside,e.popperRef]])}var nn=Oe(ln,[["render",tn],["__file","select.vue"]]);const an=de({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const o=re("select"),a=V(),m=Ce(),p=V([]);il(dl,ue({...De(e)}));const b=u(()=>p.value.some(h=>h.visible===!0)),t=h=>{var f;return h.type.name==="ElOption"&&!!((f=h.component)!=null&&f.proxy)},S=h=>{const f=H(h),d=[];return f.forEach(i=>{var s;Mt(i)&&(t(i)?d.push(i.component.proxy):P(i.children)&&i.children.length?d.push(...S(i.children)):(s=i.component)!=null&&s.subTree&&d.push(...S(i.component.subTree)))}),d},g=()=>{p.value=S(m.subTree)};return Me(()=>{g()}),Dt(a,g,{attributes:!0,subtree:!0,childList:!0}),{groupRef:a,visible:b,ns:o}}});function on(e,o,a,m,p,b){return se((y(),I("ul",{ref:"groupRef",class:v(e.ns.be("group","wrap"))},[E("li",{class:v(e.ns.be("group","title"))},N(e.label),3),E("li",null,[E("ul",{class:v(e.ns.b("group"))},[k(e.$slots,"default")],2)])],2)),[[$e,e.visible]])}var cl=Oe(an,[["render",on],["__file","option-group.vue"]]);const mn=Lt(nn,{Option:Le,OptionGroup:cl}),bn=rl(Le);rl(cl);export{mn as E,bn as a,At as b};
