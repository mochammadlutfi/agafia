import{E as C,a as E}from"./index-CNWh6HZ7.js";import{r as m,w as x,n as p,o as u,p as B,ac as S,C as i,v as o,O as b,J as _,K as D,B as N}from"./id-B6nzwgpI.js";import{E as P}from"./index-u7wZ4eP6.js";const U={class:"w-100"},z={key:2,class:"text-danger fs-sm"},G=["src"],L={__name:"SingleFileUpload",props:{modelValue:{type:[String,File],default:null},inputClass:String,id:{type:String,default:""}},emits:["update:modelValue"],setup(g,{emit:r}){const f=g,n=m(""),d=m(!1),a=m(f.modelValue),v=e=>["application/pdf","image/jpeg","image/jpg","image/png"].includes(e.type)?e.size>1048576?(a.value=null,"Ukuran file tidak boleh lebih dari 1MB."):"":"Format file salah, hanya boleh PDF, JPG, JPEG, dan PNG.",h=e=>{const l=e.target.files[0],t=v(l);if(t)n.value=t,r("update:modelValue",null),a.value=null;else{n.value="";const s=new FileReader;s.onload=c=>{a.value=c.target.result},s.readAsDataURL(l),r("update:modelValue",l)}},F=()=>{d.value=!0},y=()=>{a.value=null,r("update:modelValue",null)},V=e=>e instanceof File;return x(()=>f.modelValue,e=>{e&&(e instanceof File&&(n.value=v(e)),a.value=e)}),(e,l)=>{const t=b,s=C,c=E,k=P;return u(),p("div",U,[a.value?(u(),B(c,{key:0,gutter:10},{default:o(()=>[i(s,{md:12},{default:o(()=>[i(t,{"native-type":"button",class:"w-100",onClick:F},{default:o(()=>[_(" Lihat ")]),_:1})]),_:1}),i(s,{md:12},{default:o(()=>[i(t,{"native-type":"button",class:"w-100",type:"danger",onClick:y},{default:o(()=>[_(" Hapus ")]),_:1})]),_:1})]),_:1})):(u(),p("input",{key:1,type:"file",class:"form-control",onChange:h},null,32)),n.value?(u(),p("div",z,D(n.value),1)):S("",!0),i(k,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=w=>d.value=w),title:"Detail File",class:"w-75 min-vh-100"},{default:o(()=>[N("iframe",{src:V(a.value)?a.value:`/uploads/${a.value}`,width:"100%",height:"100%",class:"min-vh-100"},null,8,G)]),_:1},8,["modelValue"])])}}};export{L as _};
