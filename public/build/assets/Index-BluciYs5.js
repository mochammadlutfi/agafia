import{A as O,r as n,cV as $,aC as G,a5 as J,U as q,p as H,o as f,v as t,B as s,ad as Q,n as y,C as e,t as z,O as W,J as k,K as i,G as X,D as Y,F as Z}from"./id-C9hYMH1B.js";import"./moment-D15uM1gO.js";import{a as ee,E as ae}from"./index-BeNpYn1C.js";import{E as te,a as le}from"./index-B7oIPsZq.js";import{E as se}from"./index-wNIjKzA9.js";import{E as oe,a as ne}from"./index--er-YjEa.js";import{E as ie}from"./index-DpPGiUdG.js";import{E as re}from"./index-ZMuYLrAD.js";import{v as ue}from"./directive-BsyuVYtP.js";import"./typescript-Bp3YSIOJ.js";import"./index-GOrWjhdZ.js";import"./_Uint8Array-DpVHxJNR.js";import"./event-BB_Ol6Sd.js";import"./scroll-Do2KWamR.js";import"./_baseIteratee-DSxqpu-w.js";import"./vnode-C8DSHsEw.js";import"./index-Cgih6hI8.js";import"./_initCloneObject-iXJsdRzn.js";import"./isArrayLikeObject-CsAwkISA.js";const h=m=>(Y("data-v-18367ad1"),m=m(),Z(),m),de={class:"content"},ce=h(()=>s("div",{class:"content-heading d-flex justify-content-between align-items-center"},[s("div",null,[s("h2",{class:"h4 mb-0"},"Kelola Talent"),s("small",{class:"text-muted"},"Kelola data talent dan lamaran kerja")]),s("div",{class:"space-x-1"})],-1)),pe={class:"block rounded bordered"},me={class:"block-content py-3"},_e=h(()=>s("i",{class:"fa fa-search"},null,-1)),ve=h(()=>s("i",{class:"fa fa-refresh me-1"},null,-1)),fe={class:"block-content p-0"},he={class:"fw-medium"},ge={class:"text-muted"},be={key:0},we={class:"fw-medium"},ye={class:"text-muted"},ke={key:1,class:"text-muted"},xe=h(()=>s("i",{class:"fa fa-eye me-1"},null,-1)),Ee={class:"block-content py-2"},Ce={class:"my-auto text-xs"},Se={__name:"Index",setup(m){const x=n([]),_=n(!0),v=n(""),c=n("all"),g=n(25),b=n(0),E=n(0),C=n(0),w=n(1),S=n(0),F=$.debounce(()=>{_.value=!0,r()},1e3),r=async u=>{try{_.value=!0;const a=await G.get("/admin/talent/data",{params:{page:u||1,limit:g.value,search:v.value,status:c.value!=="all"?c.value:null}});a.status===200&&(x.value=a.data.data,w.value=a.data.current_page,b.value=a.data.total,S.value=a.data.per_page,E.value=a.data.from,C.value=a.data.to)}catch(a){console.error(a)}finally{_.value=!1}},K=()=>{v.value="",c.value="all",w.value=1,r()},N=u=>{switch(u){case"pending":return"warning";case"diterima":return"success";case"interview":return"primary";case"medical":return"info";case"pelatihan":return"";case"siap":return"success";case"selesai":return"success";case"ditolak":return"danger";case"none":return"info";default:return"secondary"}},U=u=>{r()};return J(()=>{r()}),(u,a)=>{const o=le,V=te,d=ae,M=se,I=W,B=ee,p=ne,j=ie,A=oe,L=re,P=q("base-layout"),R=ue;return f(),H(P,null,{default:t(()=>[s("div",de,[ce,Q((f(),y("div",pe,[s("div",me,[e(B,{gutter:16},{default:t(()=>[e(d,{span:4},{default:t(()=>[e(V,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=l=>g.value=l),placeholder:"Per halaman",style:{width:"100%"},onChange:a[1]||(a[1]=l=>r(1))},{default:t(()=>[e(o,{label:"25",value:25}),e(o,{label:"50",value:50}),e(o,{label:"100",value:100})]),_:1},8,["modelValue"])]),_:1}),e(d,{span:6},{default:t(()=>[e(V,{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=l=>c.value=l),placeholder:"Filter Status",style:{width:"100%"},onChange:a[3]||(a[3]=l=>r(1)),clearable:""},{default:t(()=>[e(o,{label:"Semua Status",value:"all"}),e(o,{label:"Menunggu Review",value:"pending"}),e(o,{label:"Diterima",value:"diterima"}),e(o,{label:"Interview",value:"interview"}),e(o,{label:"Medical Check Up",value:"medical"}),e(o,{label:"Pelatihan",value:"pelatihan"}),e(o,{label:"Siap Berangkat",value:"siap"}),e(o,{label:"Selesai",value:"selesai"}),e(o,{label:"Ditolak",value:"ditolak"})]),_:1},8,["modelValue"])]),_:1}),e(d,{span:8},{default:t(()=>[e(M,{modelValue:v.value,"onUpdate:modelValue":a[4]||(a[4]=l=>v.value=l),onInput:z(F),placeholder:"Cari nama, email, NIK...",clearable:""},{prefix:t(()=>[_e]),_:1},8,["modelValue","onInput"])]),_:1}),e(d,{span:6},{default:t(()=>[e(I,{onClick:K,type:"default"},{default:t(()=>[ve,k(" Reset Filter ")]),_:1})]),_:1})]),_:1})]),s("div",fe,[e(A,{data:x.value,class:"w-100",onSortChange:U,"header-cell-class-name":"bg-body text-dark"},{default:t(()=>[e(p,{type:"index",width:"50"}),e(p,{label:"Nama",sortable:""},{default:t(l=>[s("div",null,[s("div",he,i(l.row.nama),1),s("small",ge,i(l.row.email),1)])]),_:1}),e(p,{label:"Lamaran Aktif",width:"200"},{default:t(l=>{var D,T;return[l.row.active_application?(f(),y("div",be,[s("div",we,i(((D=l.row.active_application.lowongan)==null?void 0:D.posisi)||"-"),1),s("small",ye,i(((T=l.row.active_application.lowongan)==null?void 0:T.perusahaan)||"-"),1)])):(f(),y("span",ke,"Tidak ada lamaran aktif"))]}),_:1}),e(p,{label:"Status",prop:"status",align:"center",width:"150"},{default:t(l=>[e(j,{type:N(l.row.status),size:"small"},{default:t(()=>[k(i(l.row.status_label),1)]),_:2},1032,["type"])]),_:1}),e(p,{label:"Aksi",align:"center",width:"120"},{default:t(l=>[e(I,{tag:z(X),href:u.route("admin.talent.show",l.row.id),type:"primary",size:"small"},{default:t(()=>[xe,k(" Detail ")]),_:2},1032,["tag","href"])]),_:1})]),_:1},8,["data"])]),s("div",Ee,[e(B,{justify:"space-between"},{default:t(()=>[e(d,{lg:12,class:"d-flex"},{default:t(()=>[s("p",Ce,"Menampilkan "+i(E.value)+" sampai "+i(C.value)+" dari "+i(b.value),1)]),_:1}),e(d,{lg:12,class:"text-end"},{default:t(()=>[e(L,{class:"float-end",background:"",layout:"prev, pager, next","page-size":S.value,total:b.value,"current-page":w.value,onCurrentChange:r},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[R,_.value]])])]),_:1})}}},Je=O(Se,[["__scopeId","data-v-18367ad1"]]);export{Je as default};
