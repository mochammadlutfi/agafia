import{A as k,U as C,p as f,o as h,v as l,B as e,J as g,C as t,ad as D,K as d,at as S,au as V}from"./id-CLEzi5j9.js";import{a as L,E as q}from"./index-DjUUZ7Q6.js";import{E as z,a as A}from"./index-geAfMXUa.js";import{E as B}from"./index-D2014bqa.js";import{E as I,a as M}from"./index-BlLiRm-i.js";import{v as N}from"./directive-y1j0tsgI.js";import{E as T}from"./index-BVJZxg61.js";import"./typescript-Bp3YSIOJ.js";import"./index-DnykUrcm.js";import"./index-f30iMaIv.js";import"./_initCloneObject-BDHqS5U3.js";import"./event-BB_Ol6Sd.js";import"./scroll-BmXF7dPi.js";import"./_baseIteratee-DwtmcxYa.js";import"./vnode-BjjqFrkK.js";import"./index-_9v8tqLL.js";import"./isArrayLikeObject-BYODE2-x.js";const Y={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(a){var a=a??1;try{this.isLoading=!0;const o=await V.get(this.route("admin.staff.data"),{params:{page:a,limit:this.params.limit,q:this.params.q}});o.status==200&&(this.data=o.data.data,this.params.page=o.data.current_page,this.total=o.data.total,this.pageSize=o.data.per_page,this.from=o.data.from,this.to=o.data.to),this.isLoading=!1}catch(o){console.error(o)}},onClickRow(n,a,o){S.visit(this.route("admin.staff.show",{id:n.id}),{method:"get"})},selectAll(n){n.target.checked?this.dataList.data.forEach((a,o)=>{this.selected.push(a.id)}):this.selected=[]},format_date(n){if(n)return moment(String(n)).format("DD MMM YYYY")}}},j={class:"content"},U={class:"content-heading d-flex justify-content-between align-items-center"},O=e("span",null,"Staff",-1),P={class:"space-x-1"},R=["href"],F=e("i",{class:"fa fa-plus me-1"},null,-1),J={class:"block rounded"},K={class:"block-content py-3"},G=e("span",null,[e("i",{class:"fa fa-search"})],-1),H={class:"block-content p-0"},Q=["href"],W=e("i",{class:"fa fa-eye me-1"},null,-1),X={class:"block-content py-2"},Z={class:"my-auto text-xs"};function $(n,a,o,tt,s,p){const m=A,b=z,r=q,v=B,u=L,c=M,w=I,y=T,x=C("base-layout"),E=N;return h(),f(x,null,{default:l(()=>[e("div",j,[e("div",U,[O,e("div",P,[e("a",{href:n.route("admin.staff.create"),class:"ep-button ep-button--primary"},[F,g(" Tambah ")],8,R)])]),e("div",J,[e("div",K,[t(u,{justify:"space-between"},{default:l(()=>[t(r,{span:12},{default:l(()=>[t(b,{modelValue:s.params.limit,"onUpdate:modelValue":a[0]||(a[0]=i=>s.params.limit=i),placeholder:"Pilih",style:{width:"115px"},onChange:a[1]||(a[1]=i=>p.fetchData(1))},{default:l(()=>[t(m,{label:"25",value:"25"}),t(m,{label:"50",value:"50"}),t(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),t(r,{span:7},{default:l(()=>[t(v,{modelValue:s.params.q,"onUpdate:modelValue":a[2]||(a[2]=i=>s.params.q=i),onInput:p.doSearch,clearable:""},{prefix:l(()=>[G]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),e("div",H,[D((h(),f(w,{data:s.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:l(()=>[t(c,{prop:"nama",label:"Nama",width:"220","header-align":"center"}),t(c,{prop:"alamat",label:"Alamat",width:"400","header-align":"center"},{default:l(i=>[e("div",null,d(i.row.alamat),1)]),_:1}),t(c,{prop:"level",label:"Level"}),t(c,{label:"Aksi",align:"center",width:"180"},{default:l(i=>[e("a",{href:n.route("admin.staff.show",{id:i.row.id}),class:"ep-button ep-button--primary"},[W,g(" Detail ")],8,Q)]),_:1})]),_:1},8,["data"])),[[E,s.isLoading]])]),e("div",X,[t(u,{justify:"space-between"},{default:l(()=>[t(r,{lg:12,class:"d-flex"},{default:l(()=>[e("p",Z,"Menampilkan "+d(s.from)+" sampai "+d(s.to)+" dari "+d(s.total),1)]),_:1}),t(r,{lg:12,class:"text-end"},{default:l(()=>[t(y,{class:"float-end",background:"",layout:"prev, pager, next","page-size":s.pageSize,total:s.total,"current-page":s.page,onCurrentChange:p.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const bt=k(Y,[["render",$]]);export{bt as default};
