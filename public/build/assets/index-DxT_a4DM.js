import{e as K,i as we,_ as ae,k as M,bO as Ce,bR as Ne,c as A,aH as ie,u as q,n as j,o as V,p as ce,ac as W,q as U,v as Pe,x as $e,t as S,E as I,y as X,z as fe,f as se,ai as ne,aP as le,r as w,w as D,aw as oe,a6 as te,a7 as Ee,s as Se,aa as re,cX as Be,cY as Oe,a5 as ve,aQ as Re,C as f,ae as xe,ag as ze,as as Le,bw as z,l as Ae,g as Me,a8 as Fe,cx as Ve,ak as ue,a1 as De,cZ as de,a as Ie,aj as Ue,ad as Ke,af as qe,a2 as He}from"./id-Cr8V6t1X.js";import{m as pe}from"./typescript-Bp3YSIOJ.js";import{c as L}from"./strings-Cd1Oj1OU.js";import{U as me}from"./event-BB_Ol6Sd.js";import{u as We}from"./index-CiTp9Ql6.js";const je=K({type:{type:String,values:["primary","success","warning","info","danger","default"],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:void 0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:we}}),Xe={click:e=>e instanceof MouseEvent},Ye=M({name:"ElLink"}),Ge=M({...Ye,props:je,emits:Xe,setup(e,{emit:l}){const c=e,g=Ce("link");Ne({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},A(()=>ie(c.underline)));const a=q("link"),v=A(()=>{var t,b,i;return[a.b(),a.m((i=(b=c.type)!=null?b:(t=g.value)==null?void 0:t.type)!=null?i:"default"),a.is("disabled",c.disabled),a.is("underline",k.value==="always"),a.is("hover-underline",k.value==="hover"&&!c.disabled)]}),k=A(()=>{var t,b,i;return ie(c.underline)?c.underline?"hover":"never":(i=(b=c.underline)!=null?b:(t=g.value)==null?void 0:t.underline)!=null?i:"hover"});function p(t){c.disabled||l("click",t)}return(t,b)=>(V(),j("a",{class:X(S(v)),href:t.disabled||!t.href?void 0:t.href,target:t.disabled||!t.href?void 0:t.target,onClick:p},[t.icon?(V(),ce(S(I),{key:0},{default:Pe(()=>[(V(),ce($e(t.icon)))]),_:1})):W("v-if",!0),t.$slots.default?(V(),j("span",{key:1,class:X(S(a).e("inner"))},[U(t.$slots,"default")],2)):W("v-if",!0),t.$slots.icon?U(t.$slots,"icon",{key:2}):W("v-if",!0)],10,["href","target"]))}});var Qe=ae(Ge,[["__file","link.vue"]]);const ht=fe(Qe),Y=Symbol("tabsRootContextKey"),Ze=K({tabs:{type:se(Array),default:()=>pe([])}}),he="ElTabBar",Je=M({name:he}),et=M({...Je,props:Ze,setup(e,{expose:l}){const c=e,g=re(),a=ne(Y);a||le(he,"<el-tabs><el-tab-bar /></el-tabs>");const v=q("tabs"),k=w(),p=w(),t=()=>{let o=0,_=0;const h=["top","bottom"].includes(a.props.tabPosition)?"width":"height",R=h==="width"?"x":"y",n=R==="x"?"left":"top";return c.tabs.every($=>{var C,B;const T=(B=(C=g.parent)==null?void 0:C.refs)==null?void 0:B[`tab-${$.uid}`];if(!T)return!1;if(!$.active)return!0;o=T[`offset${L(n)}`],_=T[`client${L(h)}`];const E=window.getComputedStyle(T);return h==="width"&&(_-=Number.parseFloat(E.paddingLeft)+Number.parseFloat(E.paddingRight),o+=Number.parseFloat(E.paddingLeft)),!1}),{[h]:`${_}px`,transform:`translate${L(R)}(${o}px)`}},b=()=>p.value=t(),i=[],u=()=>{var o;i.forEach(h=>h.stop()),i.length=0;const _=(o=g.parent)==null?void 0:o.refs;if(_){for(const h in _)if(h.startsWith("tab-")){const R=_[h];R&&i.push(te(R,b))}}};D(()=>c.tabs,async()=>{await oe(),b(),u()},{immediate:!0});const m=te(k,()=>b());return Ee(()=>{i.forEach(o=>o.stop()),i.length=0,m.stop()}),l({ref:k,update:b}),(o,_)=>(V(),j("div",{ref_key:"barRef",ref:k,class:X([S(v).e("active-bar"),S(v).is(S(a).props.tabPosition)]),style:Se(p.value)},null,6))}});var tt=ae(et,[["__file","tab-bar.vue"]]);const at=K({panes:{type:se(Array),default:()=>pe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),st={tabClick:(e,l,c)=>c instanceof Event,tabRemove:(e,l)=>l instanceof Event},be="ElTabNav",nt=M({name:be,props:at,emits:st,setup(e,{expose:l,emit:c}){const g=ne(Y);g||le(be,"<el-tabs><tab-nav /></el-tabs>");const a=q("tabs"),v=Be(),k=Oe(),p=w(),t=w(),b=w(),i=w(),u=w(!1),m=w(0),o=w(!1),_=w(!0),h=A(()=>["top","bottom"].includes(g.props.tabPosition)?"width":"height"),R=A(()=>({transform:`translate${h.value==="width"?"X":"Y"}(-${m.value}px)`})),n=()=>{if(!p.value)return;const r=p.value[`offset${L(h.value)}`],d=m.value;if(!d)return;const s=d>r?d-r:0;m.value=s},$=()=>{if(!p.value||!t.value)return;const r=t.value[`offset${L(h.value)}`],d=p.value[`offset${L(h.value)}`],s=m.value;if(r-s<=d)return;const N=r-s>d*2?s+d:r-d;m.value=N},C=async()=>{const r=t.value;if(!u.value||!b.value||!p.value||!r)return;await oe();const d=b.value.querySelector(".is-active");if(!d)return;const s=p.value,N=["top","bottom"].includes(g.props.tabPosition),y=d.getBoundingClientRect(),P=s.getBoundingClientRect(),H=N?r.offsetWidth-P.width:r.offsetHeight-P.height,x=m.value;let O=x;N?(y.left<P.left&&(O=x-(P.left-y.left)),y.right>P.right&&(O=x+y.right-P.right)):(y.top<P.top&&(O=x-(P.top-y.top)),y.bottom>P.bottom&&(O=x+(y.bottom-P.bottom))),O=Math.max(O,0),m.value=Math.min(O,H)},B=()=>{var r;if(!t.value||!p.value)return;e.stretch&&((r=i.value)==null||r.update());const d=t.value[`offset${L(h.value)}`],s=p.value[`offset${L(h.value)}`],N=m.value;s<d?(u.value=u.value||{},u.value.prev=N,u.value.next=N+s<d,d-N<s&&(m.value=d-s)):(u.value=!1,N>0&&(m.value=0))},T=r=>{let d=0;switch(r.code){case z.left:case z.up:d=-1;break;case z.right:case z.down:d=1;break;default:return}const s=Array.from(r.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let y=s.indexOf(r.target)+d;y<0?y=s.length-1:y>=s.length&&(y=0),s[y].focus({preventScroll:!0}),s[y].click(),E()},E=()=>{_.value&&(o.value=!0)},G=()=>o.value=!1;return D(v,r=>{r==="hidden"?_.value=!1:r==="visible"&&setTimeout(()=>_.value=!0,50)}),D(k,r=>{r?setTimeout(()=>_.value=!0,50):_.value=!1}),te(b,B),ve(()=>setTimeout(()=>C(),0)),Re(()=>B()),l({scrollToActiveTab:C,removeFocus:G,tabListRef:t,tabBarRef:i}),()=>{const r=u.value?[f("span",{class:[a.e("nav-prev"),a.is("disabled",!u.value.prev)],onClick:n},[f(I,null,{default:()=>[f(xe,null,null)]})]),f("span",{class:[a.e("nav-next"),a.is("disabled",!u.value.next)],onClick:$},[f(I,null,{default:()=>[f(ze,null,null)]})])]:null,d=e.panes.map((s,N)=>{var y,P,H,x;const O=s.uid,Q=s.props.disabled,Z=(P=(y=s.props.name)!=null?y:s.index)!=null?P:`${N}`,J=!Q&&(s.isClosable||e.editable);s.index=`${N}`;const _e=J?f(I,{class:"is-icon-close",onClick:F=>c("tabRemove",s,F)},{default:()=>[f(Le,null,null)]}):null,ke=((x=(H=s.slots).label)==null?void 0:x.call(H))||s.props.label,Te=!Q&&s.active?0:-1;return f("div",{ref:`tab-${O}`,class:[a.e("item"),a.is(g.props.tabPosition),a.is("active",s.active),a.is("disabled",Q),a.is("closable",J),a.is("focus",o.value)],id:`tab-${Z}`,key:`tab-${O}`,"aria-controls":`pane-${Z}`,role:"tab","aria-selected":s.active,tabindex:Te,onFocus:()=>E(),onBlur:()=>G(),onClick:F=>{G(),c("tabClick",s,Z,F)},onKeydown:F=>{J&&(F.code===z.delete||F.code===z.backspace)&&c("tabRemove",s,F)}},[ke,_e])});return f("div",{ref:b,class:[a.e("nav-wrap"),a.is("scrollable",!!u.value),a.is(g.props.tabPosition)]},[r,f("div",{class:a.e("nav-scroll"),ref:p},[f("div",{class:[a.e("nav"),a.is(g.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(g.props.tabPosition))],ref:t,style:R.value,role:"tablist",onKeydown:T},[e.type?null:f(tt,{ref:i,tabs:[...e.panes]},null),d])])])}}}),lt=K({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:se(Function),default:()=>!0},stretch:Boolean}),ee=e=>Ae(e)||Me(e),ot={[me]:e=>ee(e),tabClick:(e,l)=>l instanceof Event,tabChange:e=>ee(e),edit:(e,l)=>["remove","add"].includes(l),tabRemove:e=>ee(e),tabAdd:()=>!0},rt=M({name:"ElTabs",props:lt,emits:ot,setup(e,{emit:l,slots:c,expose:g}){var a;const v=q("tabs"),k=A(()=>["left","right"].includes(e.tabPosition)),{children:p,addChild:t,removeChild:b}=We(re(),"ElTabPane"),i=w(),u=w((a=e.modelValue)!=null?a:"0"),m=async(n,$=!1)=>{var C,B;if(!(u.value===n||ue(n)))try{let T;if(e.beforeLeave){const E=e.beforeLeave(n,u.value);T=E instanceof Promise?await E:E}else T=!0;T!==!1&&(u.value=n,$&&(l(me,n),l("tabChange",n)),(B=(C=i.value)==null?void 0:C.removeFocus)==null||B.call(C))}catch{}},o=(n,$,C)=>{n.props.disabled||(l("tabClick",n,C),m($,!0))},_=(n,$)=>{n.props.disabled||ue(n.props.name)||($.stopPropagation(),l("edit",n.props.name,"remove"),l("tabRemove",n.props.name))},h=()=>{l("edit",void 0,"add"),l("tabAdd")};D(()=>e.modelValue,n=>m(n)),D(u,async()=>{var n;await oe(),(n=i.value)==null||n.scrollToActiveTab()}),Fe(Y,{props:e,currentName:u,registerPane:n=>{p.value.push(n)},sortPane:t,unregisterPane:b}),g({currentName:u,tabNavRef:i});const R=({render:n})=>n();return()=>{const n=c["add-icon"],$=e.editable||e.addable?f("div",{class:[v.e("new-tab"),k.value&&v.e("new-tab-vertical")],tabindex:"0",onClick:h,onKeydown:T=>{[z.enter,z.numpadEnter].includes(T.code)&&h()}},[n?U(c,"add-icon"):f(I,{class:v.is("icon-plus")},{default:()=>[f(Ve,null,null)]})]):null,C=f("div",{class:[v.e("header"),k.value&&v.e("header-vertical"),v.is(e.tabPosition)]},[f(R,{render:()=>{const T=p.value.some(E=>E.slots.label);return f(nt,{ref:i,currentName:u.value,editable:e.editable,type:e.type,panes:p.value,stretch:e.stretch,onTabClick:o,onTabRemove:_},{$stable:!T})}},null),$]),B=f("div",{class:v.e("content")},[U(c,"default")]);return f("div",{class:[v.b(),v.m(e.tabPosition),{[v.m("card")]:e.type==="card",[v.m("border-card")]:e.type==="border-card"}]},[B,C])}}});var it=rt;const ct=K({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ye="ElTabPane",ut=M({name:ye}),dt=M({...ut,props:ct,setup(e){const l=e,c=re(),g=De(),a=ne(Y);a||le(ye,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const v=q("tab-pane"),k=w(),p=A(()=>l.closable||a.props.closable),t=de(()=>{var o;return a.currentName.value===((o=l.name)!=null?o:k.value)}),b=w(t.value),i=A(()=>{var o;return(o=l.name)!=null?o:k.value}),u=de(()=>!l.lazy||b.value||t.value);D(t,o=>{o&&(b.value=!0)});const m=Ie({uid:c.uid,slots:g,props:l,paneName:i,active:t,index:k,isClosable:p});return a.registerPane(m),ve(()=>{a.sortPane(m)}),Ue(()=>{a.unregisterPane(m.uid)}),(o,_)=>S(u)?Ke((V(),j("div",{key:0,id:`pane-${S(i)}`,class:X(S(v).b()),role:"tabpanel","aria-hidden":!S(t),"aria-labelledby":`tab-${S(i)}`},[U(o.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[qe,S(t)]]):W("v-if",!0)}});var ge=ae(dt,[["__file","tab-pane.vue"]]);const yt=fe(it,{TabPane:ge}),gt=He(ge);export{yt as E,gt as a,ht as b};
