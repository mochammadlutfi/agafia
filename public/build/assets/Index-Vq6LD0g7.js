import{r as i,aq as $,a5 as H,U as q,p as A,o as D,v as t,B as o,ad as G,C as e,O as J,t as u,G as v,J as c,n as R,K as m,I as Y,L as F,M as Q,H as W,ap as X}from"./id-B7x6Kphd.js";import"./moment-D15uM1gO.js";import{a as Z,E as ee}from"./index-Brz82Dsm.js";import{E as te,a as ae}from"./index-BhhJV6N-.js";import{E as oe}from"./index-DgEP8chI.js";import{E as se,a as le}from"./index-C8jl7JHp.js";import{E as ne}from"./index-BKIZn3An.js";import{E as ie}from"./index-CFaohNlu.js";import{v as re}from"./directive-DpFOUZpc.js";import{E as ce}from"./index-B499GnyE.js";import{E as de}from"./index-D0Zco7YW.js";import"./typescript-Bp3YSIOJ.js";import"./strings-CA39vVla.js";import"./index-CTE-9Ue7.js";import"./_Uint8Array-DoBNT917.js";import"./event-BB_Ol6Sd.js";import"./scroll-BcTyIFjF.js";import"./_baseIteratee-BAFlVwfr.js";import"./vnode-Bc3C1a26.js";import"./index-DQKi3PpE.js";import"./_initCloneObject-BIyIwhtR.js";import"./isArrayLikeObject-BB3DmDMI.js";import"./index-BpHeBvKI.js";import"./validator-Dup4atM2.js";const pe={class:"content"},ue={class:"content-heading d-flex justify-content-between align-items-center"},_e=o("span",null,"Lowongan",-1),me={class:"space-x-1"},fe=o("i",{class:"si si-plus me-1"},null,-1),we={class:"block rounded bordered"},he={class:"block-content py-3"},ge=o("span",null,[o("i",{class:"fa fa-search"})],-1),be={class:"block-content p-0"},ve=o("i",{class:"fa-solid fa-ellipsis"},null,-1),ye=o("i",{class:"si fa-fw si-eye"},null,-1),ke=o("i",{class:"si fa-fw si-note"},null,-1),Ee=o("i",{class:"si fa-fw si-trash"},null,-1),xe={class:"block-content py-2"},Ce={class:"my-auto text-xs"},y=25,Xe={__name:"Index",setup(Be){const k=i([]),d=i(!0),f=i(""),w=i(0),h=i(0),S=i(0),E=i(1),x=i(0),T=_.debounce(()=>{d.value=!0,r()},1e3),r=async l=>{try{d.value=!0;const a=await $.get("/admin/lowongan/data",{params:{page:l||1,limit:y,search:f.value}});a.status===200&&(k.value=a.data.data,E.value=a.data.current_page,w.value=a.data.total,x.value=a.data.per_page,h.value=a.data.from,h.to=a.data.to)}catch(a){console.error(a)}finally{d.value=!1}},V=l=>{r()},M=l=>{ce.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{X.delete(`/admin/lowongan/${l}/delete`,{preserveScroll:!0,onSuccess:()=>{r(),de({type:"success",message:"Data Berhasil Dihapus!"})}})})};return H(()=>{r()}),(l,a)=>{const C=J,g=ae,j=te,p=ee,I=oe,B=Z,n=le,L=ne,b=Q,P=F,U=Y,z=se,K=ie,N=q("base-layout"),O=re;return D(),A(N,null,{default:t(()=>[o("div",pe,[o("div",ue,[_e,o("div",me,[e(C,{type:"primary",tag:u(v),href:l.route("admin.lowongan.create")},{default:t(()=>[fe,c(" Tambah Lowongan ")]),_:1},8,["tag","href"])])]),G((D(),R("div",we,[o("div",he,[e(B,{justify:"space-between"},{default:t(()=>[e(p,{span:12},{default:t(()=>[e(j,{modelValue:y,"onUpdate:modelValue":a[0]||(a[0]=s=>y=s),placeholder:"Pilih",style:{width:"110px"},onChange:a[1]||(a[1]=s=>r(1))},{default:t(()=>[e(g,{label:"25",value:"25"}),e(g,{label:"50",value:"50"}),e(g,{label:"100",value:"100"})]),_:1})]),_:1}),e(p,{span:7},{default:t(()=>[e(I,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=s=>f.value=s),onInput:u(T),clearable:""},{prefix:t(()=>[ge]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),o("div",be,[e(z,{data:k.value,class:"w-100",onSortChange:V,"header-cell-class-name":"bg-body text-dark"},{default:t(()=>[e(n,{type:"index",width:"50"}),e(n,{prop:"perusahaan",label:"Perusahaan",width:"180",sortable:"","show-overflow-tooltip":""}),e(n,{prop:"posisi",label:"Posisi",width:"180",sortable:"","show-overflow-tooltip":""}),e(n,{prop:"lokasi",label:"Lokasi",width:"150",sortable:"","show-overflow-tooltip":""}),e(n,{prop:"skill",label:"Skill",width:"180",sortable:"","show-overflow-tooltip":""}),e(n,{prop:"kuota",label:"Kuota",width:"100",sortable:"",align:"center"}),e(n,{prop:"status",label:"Status",width:"120",sortable:"",align:"center"},{default:t(s=>[e(L,{type:s.row.status==="buka"?"success":"danger"},{default:t(()=>[c(m(s.row.status==="buka"?"Buka":"Tutup"),1)]),_:2},1032,["type"])]),_:1}),e(n,{label:"Aksi",align:"center",width:"150"},{default:t(s=>[e(U,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(P,null,{default:t(()=>[e(b,null,{default:t(()=>[e(u(v),{href:l.route("admin.lowongan.show",{id:s.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},{default:t(()=>[c(" Detail "),ye]),_:2},1032,["href"])]),_:2},1024),e(b,null,{default:t(()=>[e(u(v),{href:l.route("admin.lowongan.edit",{id:s.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},{default:t(()=>[c(" Ubah "),ke]),_:2},1032,["href"])]),_:2},1024),e(b,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:W(De=>M(s.row.id),["prevent"])},{default:t(()=>[c(" Hapus "),Ee]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(C,null,{default:t(()=>[ve]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])]),o("div",xe,[e(B,{justify:"space-between"},{default:t(()=>[e(p,{lg:12,class:"d-flex"},{default:t(()=>[o("p",Ce,"Menampilkan "+m(h.value)+" sampai "+m(S.value)+" dari "+m(w.value),1)]),_:1}),e(p,{lg:12,class:"text-end"},{default:t(()=>[e(K,{class:"float-end",background:"",layout:"prev, pager, next","page-size":x.value,total:w.value,"current-page":E.value,onCurrentChange:r},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[O,d.value]])])]),_:1})}}};export{Xe as default};
