import{U as M,p,o as d,v as a,B as n,n as f,ac as k,N as S,C as t,O as N,H as h,J as s,K as l,ap as _}from"./id-B7x6Kphd.js";import{h as g}from"./moment-D15uM1gO.js";import{E as V}from"./index-B2jR3Lfb.js";import{E as K,a as Y}from"./index-BNInPmjv.js";import{E as j}from"./index-BKIZn3An.js";import{E as b}from"./index-B499GnyE.js";import{E as y}from"./index-ycrwlNd2.js";import{E as r}from"./index-D0Zco7YW.js";import"./vnode-Bc3C1a26.js";import"./index-DgEP8chI.js";import"./typescript-Bp3YSIOJ.js";import"./event-BB_Ol6Sd.js";import"./index-DQKi3PpE.js";import"./index-BpHeBvKI.js";import"./scroll-BcTyIFjF.js";import"./validator-Dup4atM2.js";import"./directive-DpFOUZpc.js";const A={class:"content"},L={class:"content-heading d-flex justify-content-between align-items-center"},O=n("span",null,"Detail Medical Chekup",-1),F={class:"space-x-1"},z=n("i",{class:"si si-check me-1"},null,-1),H=n("i",{class:"si si-close me-1"},null,-1),I={class:"block block-rounded block-bordered"},P={class:"block-content p-4 fs-sm"},R={key:0},$=n("i",{class:"fa fa-file-pdf-o"},null,-1),de={__name:"Show",props:{data:{type:Object,default:()=>({})},editMode:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})}},setup(e){const m=e,v=o=>{switch(o){case"pending":return"warning";case"valid":return"success";default:return"danger"}},x=o=>{if(o)return g().locale("id"),g(String(o)).format("DD MMMM YYYY")},E=()=>{b.confirm("Apakah Anda yakin ingin menyatakan dokumen medical checkup ini **valid**?","Validasi Dokumen Medical Checkup",{confirmButtonText:"Ya, Terima",cancelButtonText:"Tidak, Batalkan",type:"warning"}).then(()=>{const o=y.service({lock:!0,text:"Loading"});axios.post(`/admin/medical/${m.data.id}/state`,{state:"valid"}).then(c=>{r.success("Dokumen medical checkup berhasil di konfirmasi."),o.close(),_.visit(route("admin.medical.show",m.data.id),{only:["data"],preserveState:!0,preserveScroll:!0})}).catch(c=>{console.error("Error confirming user:",c),r.info("Konfirmasi dibatalkan.")})}).catch(()=>{r.info("Konfirmasi dibatalkan.")})},B=()=>{b.prompt("Alasan Penolakan","Validasi Dokumen Medical Checkup",{confirmButtonText:"Kirim",cancelButtonText:"Batal",inputType:"textarea"}).then(({value:o})=>{const c=y.service({lock:!0,text:"Loading"});axios.post(`/admin/medical/${m.data.id}/state`,{state:"tidak_valid",reason:o}).then(u=>{r.success("Dokumen medical checkup tidak valid."),c.close(),_.visit(route("admin.medical.show",m.data.id),{only:["data"],preserveState:!0,preserveScroll:!0})})}).catch(()=>{r({type:"info",message:"Input canceled"})})};return(o,c)=>{const u=N,C=V,i=Y,T=j,w=K,D=M("base-layout");return d(),p(D,{title:"Detail Relawan"},{default:a(()=>[n("div",A,[n("div",L,[O,n("div",F,[e.data.status=="pending"?(d(),f(S,{key:0},[t(u,{type:"success",onClick:h(E,["prevent"])},{default:a(()=>[z,s(" Terima ")]),_:1},8,["onClick"]),t(u,{type:"danger",onClick:h(B,["prevent"])},{default:a(()=>[H,s(" Tolak ")]),_:1},8,["onClick"])],64)):k("",!0)])]),n("div",I,[n("div",P,[e.data.status=="ditolak"?(d(),p(C,{key:0,class:"mb-4",title:"Catatan",type:"error",description:e.data.detail.catatan,"show-icon":"",closable:!1},null,8,["description"])):k("",!0),t(w,{column:2,"label-width":"240px",border:!0},{default:a(()=>[t(i,{label:"Talent"},{default:a(()=>[s(l(e.data.user.nama),1)]),_:1}),t(i,{label:"Nama Fasilitas Kesehatan"},{default:a(()=>[s(l(e.data.nama),1)]),_:1}),t(i,{label:"Tanggal Pengecekan"},{default:a(()=>[s(l(x(e.data.tanggal)),1)]),_:1}),t(i,{label:"Hasil"},{default:a(()=>[s(l(e.data.hasil),1)]),_:1}),t(i,{label:"Dokumen File"},{default:a(()=>[e.data.file?(d(),p(u,{key:1,tag:"a",href:"/uploads/"+e.data.file,target:"_blank",type:"primary",size:"small"},{default:a(()=>[$,s(" Lihat ")]),_:1},8,["href"])):(d(),f("span",R,"-"))]),_:1}),t(i,{label:"Status"},{default:a(()=>[t(T,{type:v(e.data.status),size:"small"},{default:a(()=>[s(l(e.data.status_label),1)]),_:1},8,["type"])]),_:1}),t(i,{label:"Catatan",span:2,"label-position":"top"},{default:a(()=>[s(l(e.data.catatan),1)]),_:1})]),_:1})])])])]),_:1})}}};export{de as default};
