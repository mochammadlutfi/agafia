import{r as l,ay as K,a5 as O,U as $,p as A,o as D,v as a,B as o,ad as G,C as e,O as J,t as p,G as w,J as u,n as R,K as m,I as Y,L as q,M as F,H as Q,am as W}from"./id-DZ6E98LX.js";import"./moment-D15uM1gO.js";import{a as X,E as Z}from"./index-D85PyAJr.js";import{E as ee,a as ae}from"./index-qO5mJ27J.js";import{E as te}from"./index-m109sE3g.js";import{E as oe,a as se}from"./index-CB10fu27.js";import{E as ne}from"./index-BIs_6JMW.js";import{v as le}from"./directive-BjZET4Sh.js";import{E as ie}from"./index-D5fiSYvl.js";import{E as re}from"./index-DXRNVpB4.js";import"./typescript-Bp3YSIOJ.js";import"./index-DgLHlBso.js";import"./strings-C4jz-Ott.js";import"./index-BcOthcJk.js";import"./_Uint8Array-CYg2ylQ0.js";import"./event-BB_Ol6Sd.js";import"./scroll-UPpyscUS.js";import"./_baseIteratee-Dp1U_fHn.js";import"./vnode-DF80yfNV.js";import"./index-BplxyxpN.js";import"./_initCloneObject-DsNTB0Yl.js";import"./isArrayLikeObject-lwpBDXMO.js";import"./index-CLUF9wmC.js";import"./validator-DKl5edD1.js";const ce={class:"content"},de={class:"content-heading d-flex justify-content-between align-items-center"},pe=o("span",null,"Program Training",-1),ue={class:"space-x-1"},_e=o("i",{class:"si si-plus me-1"},null,-1),me={class:"block rounded bordered"},fe={class:"block-content py-3"},ge=o("span",null,[o("i",{class:"fa fa-search"})],-1),he={class:"block-content p-0"},be=o("i",{class:"fa-solid fa-ellipsis"},null,-1),ve=o("i",{class:"si fa-fw si-eye"},null,-1),we=o("i",{class:"si fa-fw si-note"},null,-1),ye=o("i",{class:"si fa-fw si-trash"},null,-1),ke={class:"block-content py-2"},xe={class:"my-auto text-xs"},y=25,Qe={__name:"Index",setup(Ee){const k=l([]),c=l(!0),f=l(""),g=l(0),h=l(0),T=l(0),x=l(1),E=l(0),V=_.debounce(()=>{c.value=!0,r()},1e3),r=async n=>{try{c.value=!0;const t=await K.get("/admin/training/program/data",{params:{page:n||1,limit:y,search:f.value}});t.status===200&&(k.value=t.data.data,x.value=t.data.current_page,g.value=t.data.total,E.value=t.data.per_page,h.value=t.data.from,h.to=t.data.to)}catch(t){console.error(t)}finally{c.value=!1}},j=n=>{r()},M=n=>{ie.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{W.delete(`/admin/training/program/${n}/delete`,{preserveScroll:!0,onSuccess:()=>{r(),re({type:"success",message:"Data Berhasil Dihapus!"})}})})};return O(()=>{r()}),(n,t)=>{const C=J,b=ae,S=ee,d=Z,I=te,B=X,i=se,v=F,P=q,L=Y,N=oe,U=ne,z=$("base-layout"),H=le;return D(),A(z,null,{default:a(()=>[o("div",ce,[o("div",de,[pe,o("div",ue,[e(C,{type:"primary",tag:p(w),href:n.route("admin.training.program.create")},{default:a(()=>[_e,u(" Tambah Program ")]),_:1},8,["tag","href"])])]),G((D(),R("div",me,[o("div",fe,[e(B,{justify:"space-between"},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(S,{modelValue:y,"onUpdate:modelValue":t[0]||(t[0]=s=>y=s),placeholder:"Pilih",style:{width:"110px"},onChange:t[1]||(t[1]=s=>r(1))},{default:a(()=>[e(b,{label:"25",value:"25"}),e(b,{label:"50",value:"50"}),e(b,{label:"100",value:"100"})]),_:1})]),_:1}),e(d,{span:7},{default:a(()=>[e(I,{modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),onInput:p(V),clearable:""},{prefix:a(()=>[ge]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),o("div",he,[e(N,{data:k.value,class:"w-100",onSortChange:j,"header-cell-class-name":"bg-body text-dark"},{default:a(()=>[e(i,{type:"index",width:"50"}),e(i,{prop:"nama",label:"Nama",width:"250",sortable:""}),e(i,{prop:"durasi",label:"Durasi",width:"100",sortable:""},{default:a(s=>[o("span",null,m(s.row.durasi)+" Hari",1)]),_:1}),e(i,{prop:"lokasi",label:"Lokasi",width:"200",sortable:""}),e(i,{prop:"kapasitas",label:"Kapasitas",sortable:""}),e(i,{prop:"jumlah_peserta_aktif",label:"Peserta Aktif",sortable:""}),e(i,{label:"Aksi",align:"center",width:"150"},{default:a(s=>[e(L,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:a(()=>[e(P,null,{default:a(()=>[e(v,null,{default:a(()=>[e(p(w),{href:n.route("admin.training.program.show",{id:s.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},{default:a(()=>[u(" Detail "),ve]),_:2},1032,["href"])]),_:2},1024),e(v,null,{default:a(()=>[e(p(w),{href:n.route("admin.training.program.edit",{id:s.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},{default:a(()=>[u(" Ubah "),we]),_:2},1032,["href"])]),_:2},1024),e(v,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:Q(Ce=>M(s.row.id),["prevent"])},{default:a(()=>[u(" Hapus "),ye]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[e(C,null,{default:a(()=>[be]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])]),o("div",ke,[e(B,{justify:"space-between"},{default:a(()=>[e(d,{lg:12,class:"d-flex"},{default:a(()=>[o("p",xe,"Menampilkan "+m(h.value)+" sampai "+m(T.value)+" dari "+m(g.value),1)]),_:1}),e(d,{lg:12,class:"text-end"},{default:a(()=>[e(U,{class:"float-end",background:"",layout:"prev, pager, next","page-size":E.value,total:g.value,"current-page":x.value,onCurrentChange:r},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[H,c.value]])])]),_:1})}}};export{Qe as default};
