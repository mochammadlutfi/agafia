import{e as ct,f as at,_ as dt,k as st,u as ut,c as ft,aw as mt,g as pt,n as d,o as c,ac as M,B as t,y as S,t as r,q as K,J as f,K as n,s as _t,z as ht,A as gt,r as F,a5 as vt,ax as yt,U as wt,p as B,v as e,C as a,N,ah as P,E as bt,x as St,O as kt,G as k,ay as Dt,av as xt,aq as Et,ar as At,ap as Ct,Y as Tt,D as Lt,F as zt}from"./id-B6nzwgpI.js";import{a as It,E as Bt}from"./index-CNWh6HZ7.js";import{E as Nt}from"./index-DbvYCy1c.js";import{E as Pt}from"./index-CS-U25Rj.js";import{E as jt}from"./index-BuehpNIl.js";import{E as Ot}from"./index-Bd1KvRYj.js";import"./typescript-Bp3YSIOJ.js";const Vt=ct({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:at([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:at([String,Object,Array])}}),$t=st({name:"ElStatistic"}),Mt=st({...$t,props:Vt,setup(o,{expose:h}){const D=o,p=ut("statistic"),z=ft(()=>{const{value:i,formatter:v,precision:x,decimalSeparator:j,groupSeparator:O}=D;if(mt(v))return v(i);if(!pt(i)||Number.isNaN(i))return i;let[E,y=""]=String(i).split(".");return y=y.padEnd(x,"0").slice(0,x>0?x:0),E=E.replace(/\B(?=(\d{3})+(?!\d))/g,O),[E,y].join(y?j:"")});return h({displayValue:z}),(i,v)=>(c(),d("div",{class:S(r(p).b())},[i.$slots.title||i.title?(c(),d("div",{key:0,class:S(r(p).e("head"))},[K(i.$slots,"title",{},()=>[f(n(i.title),1)])],2)):M("v-if",!0),t("div",{class:S(r(p).e("content"))},[i.$slots.prefix||i.prefix?(c(),d("div",{key:0,class:S(r(p).e("prefix"))},[K(i.$slots,"prefix",{},()=>[t("span",null,n(i.prefix),1)])],2)):M("v-if",!0),t("span",{class:S(r(p).e("number")),style:_t(i.valueStyle)},n(r(z)),7),i.$slots.suffix||i.suffix?(c(),d("div",{key:1,class:S(r(p).e("suffix"))},[K(i.$slots,"suffix",{},()=>[t("span",null,n(i.suffix),1)])],2)):M("v-if",!0)],2)],2))}});var Kt=dt(Mt,[["__file","statistic.vue"]]);const Ft=ht(Kt),m=o=>(Lt("data-v-75f49457"),o=o(),zt(),o),Jt={class:"content"},Rt={class:"fs-5 fw-semibold d-flex align-items-center"},qt={class:"d-flex justify-content-between align-items-center"},Gt=m(()=>t("span",{class:"fw-semibold"},"Lamaran Terbaru",-1)),Ut={key:0},Ht={class:"d-flex justify-content-between align-items-center"},Yt={class:"fw-medium"},Qt={class:"text-muted small"},Wt={class:"text-muted small"},Xt=m(()=>t("span",{class:"fw-semibold"},"Distribusi Status Lamaran",-1)),Zt={class:"status-distribution"},te={class:"d-flex justify-content-between align-items-center"},ee={class:"text-capitalize"},ae={class:"fw-medium"},se=m(()=>t("span",{class:"fw-semibold"},"Statistik Bulanan",-1)),ne=m(()=>t("span",{class:"fw-semibold"},"Statistik Lainnya",-1)),oe={class:"additional-stats"},ie={class:"stat-group"},le=m(()=>t("div",{class:"stat-title"},"Pengguna",-1)),re={class:"stat-row"},ce={class:"stat-group"},de=m(()=>t("div",{class:"stat-title"},"Lowongan",-1)),ue={class:"stat-row"},fe={class:"stat-group"},me=m(()=>t("div",{class:"stat-title"},"Dokumen",-1)),pe={class:"stat-row"},_e={class:"d-flex justify-content-between align-items-center"},he=m(()=>t("span",{class:"fw-semibold"},"Program Pelatihan",-1)),ge={class:"training-grid"},ve={class:"training-title"},ye={class:"training-info"},we={class:"training-location"},be={class:"training-instructor"},Se=m(()=>t("span",{class:"fw-semibold"},"Aksi Cepat",-1)),ke={class:"quick-actions"},De={__name:"Dashboard",props:{stats:Array,monthlyData:Array,statusDistribution:Object,recentApplications:Array,program:Array,additionalStats:Object},setup(o){const h=o;F(null);const D=F(null),p={pending:"Menunggu Review",diterima:"Diterima",ditolak:"Ditolak",interview:"Tahap Interview",medical:"Medical Check Up",pelatihan:"Pelatihan",siap:"Siap Berangkat",selesai:"Selesai"},z={pending:"warning",diterima:"success",ditolak:"danger",interview:"primary",medical:"info",pelatihan:"",siap:"success",selesai:"success"},i={pending:"#e6a23c",diterima:"#67c23a",ditolak:"#f56c6c",interview:"#409eff",medical:"#909399",pelatihan:"#8b5cf6",siap:"#67c23a",selesai:"#67c23a"},v=l=>p[l]||l,x=l=>z[l]||"",j=l=>i[l]||"#909399",O=l=>new Date(l).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),E=()=>h.statusDistribution&&Object.values(h.statusDistribution).reduce((l,_)=>l+_,0)||1,y=(l,_)=>_>0?Math.round(l/_*100):0;F([{key:"register",label:"Daftar TKI Baru",icon:"User",color:"#409eff"},{key:"interview",label:"Jadwal Interview",icon:"Calendar",color:"#67c23a"},{key:"documents",label:"Verifikasi Dokumen",icon:"Document",color:"#e6a23c"},{key:"training",label:"Kelola Training",icon:"School",color:"#909399"},{key:"results",label:"Hasil Interview",icon:"Check",color:"#67c23a"},{key:"reports",label:"Laporan",icon:"Histogram",color:"#f56c6c"}]);const nt=async()=>{if(!h.monthlyData||!D.value)return;const _=(await Tt(()=>import("./index-BzBQJFYZ.js"),[])).init(D.value),V={tooltip:{trigger:"axis",formatter:"Bulan {b}: {c} lamaran"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"]},yAxis:{type:"value"},series:[{name:"Lamaran",type:"line",smooth:!0,data:h.monthlyData,itemStyle:{color:"#409eff"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}]}}}]};_.setOption(V),window.addEventListener("resize",()=>{_.resize()})};return vt(async()=>{await yt(),nt()}),(l,_)=>{const w=bt,V=Ft,g=Nt,A=Bt,$=It,b=kt,ot=Pt,it=jt,I=Ot,lt=Dt,rt=wt("base-layout");return c(),B(rt,null,{default:e(()=>[t("div",Jt,[a($,{gutter:24,class:"mb-4"},{default:e(()=>[(c(!0),d(N,null,P(o.stats,(s,u)=>(c(),B(A,{span:8,key:u},{default:e(()=>[a(g,{class:"mb-2 rounded-lg stat-card",shadow:"hover"},{default:e(()=>[a(V,{value:s.value,"value-style":{color:s.color,"font-weight":700}},{title:e(()=>[t("div",Rt,[a(w,{class:"me-2",color:s.color,size:"20"},{default:e(()=>[(c(),B(St(s.icon)))]),_:2},1032,["color"]),f(" "+n(s.label),1)])]),_:2},1032,["value","value-style"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),a($,{gutter:24,class:"mb-4"},{default:e(()=>[a(A,{span:12},{default:e(()=>[a(g,{class:"rounded",shadow:"hover"},{header:e(()=>[t("div",qt,[Gt,a(b,{tag:r(k),href:l.route("admin.lamaran.index"),type:"primary",size:"small"},{default:e(()=>[f("Lihat Semua")]),_:1},8,["tag","href"])])]),default:e(()=>[o.recentApplications&&o.recentApplications.length>0?(c(),d("div",Ut,[(c(!0),d(N,null,P(o.recentApplications,s=>{var u,C,T,L;return c(),d("div",{key:s.id,class:"application-item"},[t("div",Ht,[t("div",null,[t("div",Yt,n(((C=(u=s.user)==null?void 0:u.detail)==null?void 0:C.nama)||((T=s.user)==null?void 0:T.nama)),1),t("div",Qt,n((L=s.lowongan)==null?void 0:L.posisi),1),t("div",Wt,n(O(s.tanggal_lamaran)),1)]),a(ot,{type:x(s.status),size:"small"},{default:e(()=>[f(n(v(s.status)),1)]),_:2},1032,["type"])])])}),128))])):(c(),B(it,{key:1,description:"Belum ada lamaran","image-size":60}))]),_:1})]),_:1}),a(A,{span:12},{default:e(()=>[a(g,{class:"rounded",shadow:"hover"},{header:e(()=>[Xt]),default:e(()=>[t("div",Zt,[(c(!0),d(N,null,P(o.statusDistribution,(s,u)=>(c(),d("div",{key:u,class:"status-item"},[t("div",te,[t("span",ee,n(v(u)),1),t("span",ae,n(s),1)]),a(I,{percentage:y(s,E()),color:j(u),"stroke-width":8,"show-text":!1,class:"mt-1"},null,8,["percentage","color"])]))),128))])]),_:1})]),_:1})]),_:1}),a($,{gutter:24,class:"mb-4"},{default:e(()=>[a(A,{span:12},{default:e(()=>[a(g,{class:"rounded",shadow:"hover"},{header:e(()=>[se]),default:e(()=>[t("div",{ref_key:"monthlyChart",ref:D,style:{height:"300px"}},null,512)]),_:1})]),_:1}),a(A,{span:12},{default:e(()=>[a(g,{class:"rounded",shadow:"hover"},{header:e(()=>[ne]),default:e(()=>{var s,u,C,T,L,J,R,q,G,U,H,Y,Q,W,X,Z,tt,et;return[t("div",oe,[t("div",ie,[le,t("div",re,[t("span",null,"Total: "+n(((u=(s=o.additionalStats)==null?void 0:s.users)==null?void 0:u.total)||0),1),t("span",null,"Verified: "+n(((T=(C=o.additionalStats)==null?void 0:C.users)==null?void 0:T.verified)||0),1)]),a(I,{percentage:((J=(L=o.additionalStats)==null?void 0:L.users)==null?void 0:J.completion_rate)||0,color:"#409eff","stroke-width":6},null,8,["percentage"])]),t("div",ce,[de,t("div",ue,[t("span",null,"Total: "+n(((q=(R=o.additionalStats)==null?void 0:R.lowongan)==null?void 0:q.total)||0),1),t("span",null,"Aktif: "+n(((U=(G=o.additionalStats)==null?void 0:G.lowongan)==null?void 0:U.aktif)||0),1)]),a(I,{percentage:100-(((Y=(H=o.additionalStats)==null?void 0:H.lowongan)==null?void 0:Y.closure_rate)||0),color:"#67c23a","stroke-width":6},null,8,["percentage"])]),t("div",fe,[me,t("div",pe,[t("span",null,"Total: "+n(((W=(Q=o.additionalStats)==null?void 0:Q.documents)==null?void 0:W.total)||0),1),t("span",null,"Approved: "+n(((Z=(X=o.additionalStats)==null?void 0:X.documents)==null?void 0:Z.approved)||0),1)]),a(I,{percentage:((et=(tt=o.additionalStats)==null?void 0:tt.documents)==null?void 0:et.approval_rate)||0,color:"#e6a23c","stroke-width":6},null,8,["percentage"])])])]}),_:1})]),_:1})]),_:1}),a(g,{class:"mb-4 rounded",shadow:"hover"},{header:e(()=>[t("div",_e,[he,a(b,{tag:r(k),href:l.route("admin.training.program.index"),type:"primary"},{default:e(()=>[f("Kelola Program")]),_:1},8,["tag","href"])])]),default:e(()=>[t("div",ge,[(c(!0),d(N,null,P(h.program,s=>(c(),d("div",{class:"training-card",key:s.id},[t("div",ve,n(s.nama),1),t("div",ye,[t("span",null,n(s.training_count||0)+" peserta",1),t("span",null,n(s.durasi)+" hari",1)]),t("div",we,n(s.lokasi),1),t("div",be,"Instruktur: "+n(s.instruktur),1)]))),128))])]),_:1}),a(g,{class:"rounded",shadow:"hover"},{header:e(()=>[Se]),default:e(()=>[t("div",ke,[a(lt,null,{default:e(()=>[a(b,{tag:r(k),href:l.route("admin.lamaran.index"),type:"primary",size:"large"},{default:e(()=>[a(w,null,{default:e(()=>[a(r(xt))]),_:1}),f(" Kelola Lamaran ")]),_:1},8,["tag","href"]),a(b,{tag:r(k),href:l.route("admin.dokumen-lamaran.index"),type:"success",size:"large"},{default:e(()=>[a(w,null,{default:e(()=>[a(r(Et))]),_:1}),f(" Review Dokumen ")]),_:1},8,["tag","href"]),a(b,{tag:r(k),href:l.route("admin.interview.index"),type:"warning",size:"large"},{default:e(()=>[a(w,null,{default:e(()=>[a(r(At))]),_:1}),f(" Interview ")]),_:1},8,["tag","href"]),a(b,{tag:r(k),href:l.route("admin.talent.index"),type:"info",size:"large"},{default:e(()=>[a(w,null,{default:e(()=>[a(r(Ct))]),_:1}),f(" Kelola Talent ")]),_:1},8,["tag","href"])]),_:1})])]),_:1})])]),_:1})}}},Ie=gt(De,[["__scopeId","data-v-75f49457"]]);export{Ie as default};
