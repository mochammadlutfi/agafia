import{U as N,p as k,o as m,v as e,B as o,n as _,ac as b,N as V,C as t,O as P,H as y,J as n,K as l,am as v}from"./id-C9hYMH1B.js";import{h as x}from"./moment-D15uM1gO.js";import{E as K}from"./index-DosL4iqp.js";import{E as L,a as Y}from"./index-BewakvWN.js";import{E as j}from"./index-DpPGiUdG.js";import{E}from"./index-DbSZ3Hba.js";import{E as C}from"./index-CCmghcp5.js";import{E as u}from"./index-Cp4QcoMp.js";import"./vnode-C8DSHsEw.js";import"./index-wNIjKzA9.js";import"./typescript-Bp3YSIOJ.js";import"./event-BB_Ol6Sd.js";import"./index-Cgih6hI8.js";import"./index-CyWwbtSv.js";import"./scroll-Do2KWamR.js";import"./validator-KIENhd6v.js";import"./directive-BsyuVYtP.js";const A={class:"content"},O={class:"content-heading d-flex justify-content-between align-items-center"},z=o("span",null,"Detail Medical Checkup",-1),F={class:"space-x-1"},H=o("i",{class:"si si-check me-1"},null,-1),I=o("i",{class:"si si-close me-1"},null,-1),U={class:"block block-rounded block-bordered"},$={class:"block-content p-4 fs-sm"},J={key:0},R=o("i",{class:"fa fa-file-pdf-o"},null,-1),ma={__name:"Show",props:{data:{type:Object,default:()=>({})},editMode:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})}},setup(a){const p=a,B=s=>{switch(s){case"pending":return"warning";case"valid":return"success";default:return"danger"}},h=s=>{if(s)return x().locale("id"),x(String(s)).format("DD MMMM YYYY")},T=()=>{E.confirm("Apakah Anda yakin ingin menyatakan dokumen medical checkup ini **valid**?","Validasi Dokumen Medical Checkup",{confirmButtonText:"Ya, Terima",cancelButtonText:"Tidak, Batalkan",type:"warning"}).then(()=>{const s=C.service({lock:!0,text:"Loading"});axios.post(`/admin/medical/${p.data.id}/state`,{state:"valid"}).then(c=>{u.success("Dokumen medical checkup berhasil di konfirmasi."),s.close(),v.visit(route("admin.medical.show",p.data.id),{only:["data"],preserveState:!0,preserveScroll:!0})}).catch(c=>{console.error("Error confirming user:",c),u.info("Konfirmasi dibatalkan.")})}).catch(()=>{u.info("Konfirmasi dibatalkan.")})},w=()=>{E.prompt("Alasan Penolakan","Validasi Dokumen Medical Checkup",{confirmButtonText:"Kirim",cancelButtonText:"Batal",inputType:"textarea"}).then(({value:s})=>{const c=C.service({lock:!0,text:"Loading"});axios.post(`/admin/medical/${p.data.id}/state`,{state:"tidak_valid",reason:s}).then(f=>{u.success("Dokumen medical checkup tidak valid."),c.close(),v.visit(route("admin.medical.show",p.data.id),{only:["data"],preserveState:!0,preserveScroll:!0})})}).catch(()=>{u({type:"info",message:"Input canceled"})})};return(s,c)=>{const f=P,D=K,i=Y,g=j,M=L,S=N("base-layout");return m(),k(S,{title:"Detail Medical Checkup"},{default:e(()=>[o("div",A,[o("div",O,[z,o("div",F,[a.data.status=="pending"?(m(),_(V,{key:0},[t(f,{type:"success",onClick:y(T,["prevent"])},{default:e(()=>[H,n(" Terima ")]),_:1},8,["onClick"]),t(f,{type:"danger",onClick:y(w,["prevent"])},{default:e(()=>[I,n(" Tolak ")]),_:1},8,["onClick"])],64)):b("",!0)])]),o("div",U,[o("div",$,[a.data.status=="tidak_valid"&&a.data.catatan?(m(),k(D,{key:0,class:"mb-4",title:"Catatan Penolakan",type:"error",description:a.data.catatan,"show-icon":"",closable:!1},null,8,["description"])):b("",!0),t(M,{column:2,"label-width":"240px",border:!0},{default:e(()=>[t(i,{label:"Nama Pelamar"},{default:e(()=>{var d,r;return[n(l(((r=(d=a.data.lamaran)==null?void 0:d.user)==null?void 0:r.nama)||"-"),1)]}),_:1}),t(i,{label:"Posisi Lamaran"},{default:e(()=>{var d,r;return[n(l(((r=(d=a.data.lamaran)==null?void 0:d.lowongan)==null?void 0:r.posisi)||"-"),1)]}),_:1}),t(i,{label:"Nama Fasilitas Kesehatan"},{default:e(()=>[n(l(a.data.nama),1)]),_:1}),t(i,{label:"Tanggal Pengecekan"},{default:e(()=>[n(l(h(a.data.tanggal)),1)]),_:1}),t(i,{label:"Hasil Pemeriksaan"},{default:e(()=>[t(g,{type:a.data.hasil==="sehat"?"success":"warning",size:"small"},{default:e(()=>[n(l(a.data.hasil),1)]),_:1},8,["type"])]),_:1}),t(i,{label:"Status Validasi"},{default:e(()=>[t(g,{type:B(a.data.status),size:"small"},{default:e(()=>[n(l(a.data.status_label),1)]),_:1},8,["type"])]),_:1}),t(i,{label:"Dokumen Medical"},{default:e(()=>[a.data.file?(m(),k(f,{key:1,tag:"a",href:"/uploads/"+a.data.file,target:"_blank",type:"primary",size:"small"},{default:e(()=>[R,n(" Lihat Dokumen ")]),_:1},8,["href"])):(m(),_("span",J,"-"))]),_:1}),t(i,{label:"Tanggal Upload"},{default:e(()=>[n(l(h(a.data.created_at)),1)]),_:1}),t(i,{label:"Catatan",span:2,"label-position":"top"},{default:e(()=>[n(l(a.data.catatan||"-"),1)]),_:1})]),_:1})])])])]),_:1})}}};export{ma as default};
