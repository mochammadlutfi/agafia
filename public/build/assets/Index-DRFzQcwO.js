import{A as q,r as L,U as H,p as g,o as i,v as n,B as e,C as s,O as Q,t as v,G as y,J as c,n as _,N as z,ac as f,ah as W,K as d,D as X,F as Z,am as h}from"./id-B6nzwgpI.js";import{E as ee}from"./index-DbvYCy1c.js";import{E as ae,a as te}from"./index-nMKTPBRL.js";import{E as se}from"./index-CS-U25Rj.js";import{E as le}from"./index-Bd1KvRYj.js";import{E as ne}from"./index-DLn63ED9.js";import{E as oe}from"./index-BuehpNIl.js";import{E as re}from"./index-CuUXQnr8.js";import{E as I}from"./index-CWdicLEL.js";import"./index-BTTm5nEU.js";import"./_Uint8Array-CGYHTGVX.js";import"./index-DMhCjaYJ.js";import"./typescript-Bp3YSIOJ.js";import"./event-BB_Ol6Sd.js";import"./index-ng22Bdpy.js";import"./scroll-Dq92vYzH.js";import"./_baseIteratee-CEMChci4.js";import"./vnode-Bjz-F9iQ.js";import"./index-CzfI5m8E.js";import"./validator-DGQAUmUB.js";const l=o=>(X("data-v-d65e4453"),o=o(),Z(),o),ie={class:"align-middle border-2 border-bottom border-primary d-flex justify-content-between mb-4 py-2"},ce=l(()=>e("span",{class:"fw-bold fs-lg"},"Lamaran Saya",-1)),de=l(()=>e("i",{class:"fa fa-plus me-2"},null,-1)),ue={class:"filters-section mb-4"},me={class:"d-flex align-items-center gap-3"},pe=l(()=>e("span",{class:"filter-label"},"Filter Status:",-1)),_e=l(()=>e("i",{class:"fa fa-refresh me-2"},null,-1)),ge={class:"applications-section"},fe={class:"applications-list"},he={class:"application-header"},ve={class:"application-info"},ye={class:"application-title"},be={class:"application-company"},ke=l(()=>e("i",{class:"fa fa-building me-2"},null,-1)),we={class:"application-location"},Se=l(()=>e("i",{class:"fa fa-map-marker-alt me-2"},null,-1)),Ee={class:"application-status"},Ce={class:"application-details"},xe={class:"detail-row"},Be={class:"detail-item"},De=l(()=>e("span",{class:"detail-label"},"Tanggal Lamaran:",-1)),Pe={class:"detail-value"},Le={class:"detail-item"},ze=l(()=>e("span",{class:"detail-label"},"Diperbarui:",-1)),Ie={class:"detail-value"},Te={key:0,class:"detail-item"},Ve=l(()=>e("span",{class:"detail-label"},"Catatan:",-1)),Me={class:"detail-value"},Oe={class:"application-progress mb-3"},je={class:"progress-label mb-2"},Fe=l(()=>e("span",null,"Progress Lamaran",-1)),Ne={class:"progress-percentage"},Ae={class:"application-actions"},Re=l(()=>e("i",{class:"fa fa-eye me-2"},null,-1)),Ue=l(()=>e("i",{class:"fa fa-times me-2"},null,-1)),Ge=l(()=>e("i",{class:"fa fa-download me-2"},null,-1)),Ke={key:0,class:"pagination-wrapper mt-4"},Je=l(()=>e("i",{class:"fa fa-search me-2"},null,-1)),Ye={__name:"Index",props:{lamaran:Object,stats:Object,filters:Object},setup(o){var E,C;const b=o,p=L(((E=b.filters)==null?void 0:E.status)||""),k=L(((C=b.lamaran)==null?void 0:C.current_page)||1),T={pending:"Menunggu Review",diterima:"Diterima",ditolak:"Ditolak",interview:"Interview",medical:"Medical Check",pelatihan:"Pelatihan",siap:"Siap Berangkat",selesai:"Selesai"},V={pending:"warning",diterima:"success",ditolak:"danger",interview:"primary",medical:"info",pelatihan:"",siap:"success",selesai:"success"},M=t=>T[t]||t,O=t=>V[t]||"",w=t=>new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),S=t=>({pending:15,diterima:30,interview:50,medical:70,pelatihan:85,siap:95,selesai:100,ditolak:0})[t]||15,j=t=>t==="ditolak"?"#f56c6c":t==="selesai"?"#67c23a":"#409eff",F=()=>{h.get(route("user.lamaran.index"),{status:p.value},{preserveState:!0,preserveScroll:!0})},N=()=>{p.value="",h.get(route("user.lamaran.index"),{},{preserveState:!0,preserveScroll:!0})},A=t=>{h.get(route("user.lamaran.index"),{page:t,status:p.value},{preserveState:!0,preserveScroll:!0})},R=async t=>{try{await re.confirm("Apakah Anda yakin ingin membatalkan lamaran ini?","Konfirmasi Pembatalan",{confirmButtonText:"Ya, Batalkan",cancelButtonText:"Tidak",type:"warning"}),h.post(route("user.lamaran.cancel",t),{},{preserveState:!1,onSuccess:()=>{I.success("Lamaran berhasil dibatalkan")},onError:()=>{I.error("Gagal membatalkan lamaran")}})}catch{}};return(t,u)=>{const m=Q,r=te,U=ae,x=ee,G=se,K=le,J=ne,Y=oe,$=H("user-layout");return i(),g($,null,{default:n(()=>[e("div",ie,[ce,e("div",null,[s(m,{tag:v(y),href:t.route("lowongan"),type:"primary",size:"large"},{default:n(()=>[de,c(" Cari Lowongan ")]),_:1},8,["tag","href"])])]),e("div",ue,[s(x,null,{default:n(()=>[e("div",me,[pe,s(U,{modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=a=>p.value=a),placeholder:"Semua Status",clearable:"",onChange:F,style:{width:"200px"}},{default:n(()=>[s(r,{label:"Semua Status",value:""}),s(r,{label:"Menunggu Review",value:"pending"}),s(r,{label:"Diterima",value:"diterima"}),s(r,{label:"Ditolak",value:"ditolak"}),s(r,{label:"Interview",value:"interview"}),s(r,{label:"Medical Check",value:"medical"}),s(r,{label:"Pelatihan",value:"pelatihan"}),s(r,{label:"Siap Berangkat",value:"siap"}),s(r,{label:"Selesai",value:"selesai"})]),_:1},8,["modelValue"]),s(m,{onClick:N,type:"default"},{default:n(()=>[_e,c(" Reset ")]),_:1})])]),_:1})]),e("div",ge,[o.lamaran.data&&o.lamaran.data.length>0?(i(),_(z,{key:0},[e("div",fe,[(i(!0),_(z,null,W(o.lamaran.data,a=>{var B,D,P;return i(),_("div",{key:a.id,class:"application-item"},[e("div",he,[e("div",ve,[e("h3",ye,d((B=a.lowongan)==null?void 0:B.posisi),1),e("p",be,[ke,c(" "+d((D=a.lowongan)==null?void 0:D.perusahaan),1)]),e("p",we,[Se,c(" "+d((P=a.lowongan)==null?void 0:P.lokasi),1)])]),e("div",Ee,[s(G,{type:O(a.status),size:"large",class:"status-tag"},{default:n(()=>[c(d(M(a.status)),1)]),_:2},1032,["type"])])]),e("div",Ce,[e("div",xe,[e("div",Be,[De,e("span",Pe,d(w(a.tanggal_lamaran)),1)]),e("div",Le,[ze,e("span",Ie,d(w(a.updated_at)),1)]),a.catatan?(i(),_("div",Te,[Ve,e("span",Me,d(a.catatan),1)])):f("",!0)])]),e("div",Oe,[e("div",je,[Fe,e("span",Ne,d(S(a.status))+"%",1)]),s(K,{percentage:S(a.status),color:j(a.status),"stroke-width":8},null,8,["percentage","color"])]),e("div",Ae,[s(m,{tag:v(y),href:t.route("user.lamaran.show",a.id),type:"primary",size:"small"},{default:n(()=>[Re,c(" Lihat Detail ")]),_:2},1032,["tag","href"]),a.status==="pending"?(i(),g(m,{key:0,onClick:$e=>R(a.id),type:"danger",size:"small",plain:""},{default:n(()=>[Ue,c(" Batalkan ")]),_:2},1032,["onClick"])):f("",!0),a.cv_file?(i(),g(m,{key:1,tag:"a",href:"/storage/"+a.cv_file,target:"_blank",type:"info",size:"small",plain:""},{default:n(()=>[Ge,c(" Download CV ")]),_:2},1032,["href"])):f("",!0)])])}),128))]),o.lamaran.last_page>1?(i(),_("div",Ke,[s(J,{"current-page":k.value,"onUpdate:currentPage":u[1]||(u[1]=a=>k.value=a),"page-size":o.lamaran.per_page,total:o.lamaran.total,layout:"prev, pager, next, jumper, total",onCurrentChange:A},null,8,["current-page","page-size","total"])])):f("",!0)],64)):(i(),g(x,{key:1},{default:n(()=>[s(Y,{description:"Belum ada lamaran yang dikirim","image-size":120},{default:n(()=>[s(m,{tag:v(y),href:t.route("lowongan"),type:"primary",size:"large"},{default:n(()=>[Je,c(" Cari Lowongan Sekarang ")]),_:1},8,["tag","href"])]),_:1})]),_:1}))])]),_:1})}}},_a=q(Ye,[["__scopeId","data-v-d65e4453"]]);export{_a as default};
